import{h as Oe,a as le,r as m,s as z,b as A,j as e,L as Je,T as Ge,u as Ke,B as y,A as ie,C as He,c as Qe,d as We,e as Xe,X as ee,g as Ye}from"./index-Dt07UTka.js";import{L as Ze}from"./Layout-mbh2DWpt.js";import{S as et,a as tt,b as st,c as at,d as $e}from"./SafeSelect-CA0q4OzQ.js";import{I as R}from"./input-Bw9vQiwZ.js";import{L as E}from"./label-5-3zOpNH.js";import{T as te}from"./textarea-DZPoKpSZ.js";import{C as rt}from"./checkbox-i6IZ-y8B.js";import{d as it,c as nt,a as lt}from"./useApplications-Dtoeuj7w.js";import{B as ne}from"./badge-BL2mfjTD.js";import{C as ct}from"./index-CUAMUldx.js";import{S as ot}from"./save-Dp_vy41W.js";import{f as ce}from"./fr-CfdXjsD4.js";import{f as ze}from"./formatDistanceToNow-2oA28mCp.js";import{i as dt}from"./applicationUtils-GIDm11E_.js";import{i as mt}from"./launchGate-DNqG8lWI.js";import{g as ut}from"./metierQuestions-BOW-dpJS.js";import{S as se}from"./spinner-DybE6_pM.js";import{C as ae}from"./circle-check-big-DK0TIh3k.js";import{U as xt}from"./user-ix4zyo1H.js";import{F as ht}from"./file-text-XdKEpMSd.js";import{S as Te}from"./send-ekdqg9ff.js";import{f as ft}from"./format-BbOC2X4i.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function gt(){const{user:p}=le(),[u,k]=m.useState(!1),[q,$]=m.useState(0),w=async(...x)=>{if(!p)throw new Error("User not authenticated");k(!0),$(0);try{if(typeof x[0]=="string"){const _=x[0],D=x[1],F=await nt(_,D);return{path:String(F.id),name:F.filename,size:F.size_bytes??D.size,type:D.type}}else{const _=x[0];throw new Error("Upload: applicationId requis. Appelez uploadFile(applicationId, file).")}}finally{k(!1),$(0)}};return{uploadFile:w,uploadMultipleFiles:async(x,_)=>{const D=_.map(F=>w(x,F));return Promise.all(D)},deleteFile:async(...x)=>{if(x.length===2){const[D,F]=x;if(!await it(D,F))throw new Error("Suppression du document non confirmée");return}x[0]},getFileUrl:x=>x,downloadFile:async x=>{const _=await fetch(x);if(!_.ok)throw new Error("Téléchargement échoué");return await _.blob()},isUploading:u,uploadProgress:q}}const jt=15e3;function bt(p){const{user:u}=le(),[k,q]=m.useState(null),[$,w]=m.useState(!1),[B,U]=m.useState(!1),[K,I]=m.useState(null),x=m.useRef(null),_=m.useRef(""),D=m.useRef("");m.useEffect(()=>{u&&p&&F()},[u,p]),m.useEffect(()=>()=>{x.current&&clearInterval(x.current)},[]);const F=m.useCallback(async()=>{if(!u||!p)return null;try{const{data:b,error:o}=await z.from("application_drafts").select("form_data, ui_state, updated_at").eq("user_id",u.id).eq("job_offer_id",p).single();if(o)return o.code!=="PGRST116"&&console.error("Error loading draft:",o),q(null),w(!0),null;const S={form_data:b.form_data||{},ui_state:b.ui_state||{}};return q(S),I(new Date(b.updated_at)),w(!0),console.log("📄 Brouillon chargé:",S),S}catch(b){return console.error("Error loading draft:",b),q(null),w(!0),null}},[u,p]),M=m.useCallback(async(b,o={})=>{if(!u||!p)return;const S=JSON.stringify(b),v=JSON.stringify(o);if(!(S===_.current&&v===D.current)){U(!0);try{const{error:T}=await z.from("application_drafts").upsert({user_id:u.id,job_offer_id:p,form_data:b,ui_state:o,updated_at:new Date().toISOString()});if(T){console.error("Error saving draft:",T),A.error("Erreur lors de la sauvegarde du brouillon");return}const W={form_data:b,ui_state:o};q(W),I(new Date),_.current=S,D.current=v,console.log("💾 Brouillon sauvegardé:",W)}catch(T){console.error("Error saving draft:",T),A.error("Erreur lors de la sauvegarde du brouillon")}finally{U(!1)}}},[u,p]),H=m.useCallback(async()=>{if(!(!u||!p))try{const{error:b}=await z.from("application_drafts").delete().eq("user_id",u.id).eq("job_offer_id",p);if(b){console.error("Error clearing draft:",b);return}q(null),I(null),_.current="",D.current="",console.log("🗑️ Brouillon supprimé")}catch(b){console.error("Error clearing draft:",b)}},[u,p]),Q=m.useCallback((b,o={})=>{x.current&&clearInterval(x.current),x.current=setInterval(()=>{M(b,o)},jt),console.log("⏰ Auto-save activé (toutes les 15 secondes)")},[M]),J=m.useCallback(()=>{x.current&&(clearInterval(x.current),x.current=null,console.log("⏰ Auto-save désactivé"))},[]);return{draftData:k,isDraftLoaded:$,isSaving:B,lastSaved:K,saveDraft:M,loadDraft:F,clearDraft:H,enableAutoSave:Q,disableAutoSave:J}}function vt({isSaving:p,lastSaved:u,className:k=""}){return p?e.jsxs(ne,{variant:"secondary",className:`flex items-center gap-2 ${k}`,children:[e.jsx(Je,{className:"w-3 h-3 animate-spin"}),e.jsx("span",{className:"text-xs",children:"Sauvegarde..."})]}):u?e.jsxs(ne,{variant:"outline",className:`flex items-center gap-2 text-green-700 border-green-200 bg-green-50 ${k}`,children:[e.jsx(ct,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-xs",children:["Sauvegardé ",ze(u,{addSuffix:!0,locale:ce})]})]}):e.jsxs(ne,{variant:"outline",className:`flex items-center gap-2 text-orange-700 border-orange-200 bg-orange-50 ${k}`,children:[e.jsx(Ge,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Non sauvegardé"})]})}function Nt({onRestore:p,onIgnore:u,lastSaved:k}){return e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ot,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Brouillon trouvé"}),e.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["Nous avons trouvé un brouillon de votre candidature sauvegardé"," ",ze(k,{addSuffix:!0,locale:ce}),". Ce brouillon est conservé de manière permanente jusqu'à soumission de votre candidature. Voulez-vous le restaurer ?"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:p,className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Restaurer le brouillon"}),e.jsx("button",{onClick:u,className:"px-3 py-1.5 bg-white text-blue-600 text-sm border border-blue-300 rounded-md hover:bg-blue-50 transition-colors",children:"Commencer à zéro"})]})]})]})})}function Kt({jobTitle:p,jobId:u,onBack:k,onSubmit:q,applicationId:$,mode:w="create",initialStep:B}){const U=Ke(),K=mt(),I=()=>A.info("Les candidatures seront disponibles à partir du lundi 25 août 2025."),{draftData:x,isDraftLoaded:_,isSaving:D,lastSaved:F,clearDraft:M,enableAutoSave:H,disableAutoSave:Q}=bt(u||""),[J,b]=m.useState(!1),[o,S]=m.useState(()=>{if(typeof B=="number"&&B>=1)return B;try{const t=u||"no-job",i=localStorage.getItem(`application_form_shared_${t}_ui`);if(i){const r=JSON.parse(i),d=Number(r==null?void 0:r.currentStep);if(d>=1)return d}}catch{}return w==="edit"?4:1}),[v,T]=m.useState(()=>{try{const t=u||"no-job",i=localStorage.getItem(`application_form_shared_${t}_ui`);if(i){const r=JSON.parse(i);if((r==null?void 0:r.activeTab)==="metier"||(r==null?void 0:r.activeTab)==="talent"||(r==null?void 0:r.activeTab)==="paradigme")return r.activeTab}}catch{}return"metier"}),[W,yt]=m.useState(!1),[wt,_t]=m.useState(!1);lt();const{uploadFile:X,isUploading:C,deleteFile:Be}=gt(),{user:c}=le(),P=m.useMemo(()=>`application_form_${(c==null?void 0:c.id)||"guest"}_${u||"no-job"}`,[c==null?void 0:c.id,u]),L=m.useMemo(()=>`application_form_shared_${u||"no-job"}`,[u]),[a,h]=m.useState(()=>{try{let t=localStorage.getItem(P);if(t||(t=localStorage.getItem(L)),t){const i=JSON.parse(t);return{...i,dateOfBirth:i.dateOfBirth?new Date(i.dateOfBirth):null}}}catch{}return{firstName:"",lastName:"",email:"",matricule:"",phone:"",gender:"",dateOfBirth:null,currentPosition:"",address:"",cv:null,coverLetter:null,yearsOfExperience:"",certificates:[],additionalCertificates:[],references:"",metier1:"",metier2:"",metier3:"",metier4:"",metier5:"",metier6:"",metier7:"",talent1:"",talent2:"",talent3:"",talent4:"",talent5:"",talent6:"",talent7:"",paradigme1:"",paradigme2:"",paradigme3:"",paradigme4:"",paradigme5:"",paradigme6:"",paradigme7:"",consent:!1}});m.useEffect(()=>{let t=!0;return(async()=>{try{if(!(c!=null&&c.id))return;const[{data:r,error:d},{data:s,error:f}]=await Promise.all([z.from("users").select("first_name, last_name, email, matricule, phone").eq("id",c.id).maybeSingle(),z.from("candidate_profiles").select("current_position, gender, years_experience, address, birth_date").eq("user_id",c.id).maybeSingle()]);if(d)throw d;if(f)throw f;if(!t)return;const g=(c==null?void 0:c.user_metadata)||{};let n=g.first_name||g.prenom||g.given_name,j=g.last_name||g.nom||g.family_name;if((!n||!j)&&typeof g.name=="string"){const l=g.name.trim().split(/\s+/);!n&&l.length>0&&(n=l[0]),!j&&l.length>1&&(j=l.slice(1).join(" "))}h(l=>{const O={...l,firstName:l.firstName||(r==null?void 0:r.first_name)||n||"",lastName:l.lastName||(r==null?void 0:r.last_name)||j||"",email:l.email||(r==null?void 0:r.email)||c.email||"",matricule:l.matricule||(r==null?void 0:r.matricule)||"",phone:l.phone||(r==null?void 0:r.phone)||"",dateOfBirth:l.dateOfBirth||(s!=null&&s.birth_date?new Date(s.birth_date):null),currentPosition:l.currentPosition||(s==null?void 0:s.current_position)||"",gender:l.gender||(s==null?void 0:s.gender)||"",yearsOfExperience:l.yearsOfExperience||(s!=null&&s.years_experience?String(s.years_experience):""),address:l.address||(s==null?void 0:s.address)||""};try{localStorage.setItem(P,JSON.stringify(O))}catch{}return O})}catch(r){console.error("Prefill error:",r)}})(),()=>{t=!1}},[c,c==null?void 0:c.id,c==null?void 0:c.email,P]),m.useEffect(()=>{w==="create"&&_&&x&&Object.keys(x.form_data).length>0&&Object.entries(x.form_data).some(([i,r])=>i==="firstName"||i==="lastName"||i==="email"?!1:r&&r!=="")&&b(!0)},[w,_,x]);const Le=()=>{x&&(h(t=>({...t,...x.form_data})),x.ui_state.currentStep&&S(x.ui_state.currentStep),x.ui_state.activeTab&&T(x.ui_state.activeTab),b(!1),A.success("Brouillon restauré avec succès !"))},Ae=()=>{b(!1),M()};m.useEffect(()=>(w==="create"&&_&&!J&&H(a,{currentStep:o,activeTab:v,completedSections:[],lastActiveField:""}),()=>{Q()}),[w,_,J,a,o,v,H,Q]),m.useEffect(()=>{let t=!1;return(async()=>{if(!(w!=="edit"||!$))try{const{data:r,error:d}=await z.from("applications").select(`
            reference_contacts,
            mtp_answers,
            candidate_id
          `).eq("id",$).single();if(d)throw d;if(t||!r)return;const s=r.mtp_answers,f=r.reference_contacts??r.ref_contacts;h(n=>{var l,O,xe,he,fe,pe,ge,je,be,ve,Ne,ye,we,_e,Se,Ce,Pe,Ee,Fe,ke,De;const j={...n,references:f??n.references,metier1:((l=s==null?void 0:s.metier)==null?void 0:l[0])??n.metier1,metier2:((O=s==null?void 0:s.metier)==null?void 0:O[1])??n.metier2,metier3:((xe=s==null?void 0:s.metier)==null?void 0:xe[2])??n.metier3,metier4:((he=s==null?void 0:s.metier)==null?void 0:he[3])??n.metier4,metier5:((fe=s==null?void 0:s.metier)==null?void 0:fe[4])??n.metier5,metier6:((pe=s==null?void 0:s.metier)==null?void 0:pe[5])??n.metier6,metier7:((ge=s==null?void 0:s.metier)==null?void 0:ge[6])??n.metier7,talent1:((je=s==null?void 0:s.talent)==null?void 0:je[0])??n.talent1,talent2:((be=s==null?void 0:s.talent)==null?void 0:be[1])??n.talent2,talent3:((ve=s==null?void 0:s.talent)==null?void 0:ve[2])??n.talent3,talent4:((Ne=s==null?void 0:s.talent)==null?void 0:Ne[3])??n.talent4,talent5:((ye=s==null?void 0:s.talent)==null?void 0:ye[4])??n.talent5,talent6:((we=s==null?void 0:s.talent)==null?void 0:we[5])??n.talent6,talent7:((_e=s==null?void 0:s.talent)==null?void 0:_e[6])??n.talent7,paradigme1:((Se=s==null?void 0:s.paradigme)==null?void 0:Se[0])??n.paradigme1,paradigme2:((Ce=s==null?void 0:s.paradigme)==null?void 0:Ce[1])??n.paradigme2,paradigme3:((Pe=s==null?void 0:s.paradigme)==null?void 0:Pe[2])??n.paradigme3,paradigme4:((Ee=s==null?void 0:s.paradigme)==null?void 0:Ee[3])??n.paradigme4,paradigme5:((Fe=s==null?void 0:s.paradigme)==null?void 0:Fe[4])??n.paradigme5,paradigme6:((ke=s==null?void 0:s.paradigme)==null?void 0:ke[5])??n.paradigme6,paradigme7:((De=s==null?void 0:s.paradigme)==null?void 0:De[6])??n.paradigme7};try{localStorage.setItem(P,JSON.stringify(j))}catch{}return j});const g=r.candidate_id;if(g){const[{data:n},{data:j}]=await Promise.all([z.from("users").select("first_name, last_name, email, date_of_birth").eq("id",g).maybeSingle(),z.from("candidate_profiles").select("current_position, gender").eq("user_id",g).maybeSingle()]);h(l=>{const O={...l,firstName:(n==null?void 0:n.first_name)||l.firstName,lastName:(n==null?void 0:n.last_name)||l.lastName,email:(n==null?void 0:n.email)||l.email,dateOfBirth:n!=null&&n.date_of_birth?new Date(n.date_of_birth):l.dateOfBirth,gender:(j==null?void 0:j.gender)||l.gender,currentPosition:(j==null?void 0:j.current_position)||l.currentPosition};try{localStorage.setItem(P,JSON.stringify(O))}catch{}return O})}}catch(r){console.warn("Chargement de la candidature (édition) échoué:",(r==null?void 0:r.message)||r)}})(),()=>{t=!0}},[w,$,P]),m.useEffect(()=>{let t=!1;return(async()=>{if(!(w!=="edit"||!$))try{const{data:r,error:d}=await z.from("application_documents").select("document_type, file_name, file_url, file_size").eq("application_id",$);if(d)throw d;if(t||!r)return;const s=l=>({path:l.file_url,name:l.file_name,size:l.file_size??0,type:""}),f=r.find(l=>l.document_type==="cv"),g=r.find(l=>l.document_type==="cover_letter"),n=r.filter(l=>l.document_type==="diploma").map(s),j=r.filter(l=>l.document_type==="certificate").map(s);h(l=>{const O={...l,cv:f?s(f):l.cv,coverLetter:g?s(g):l.coverLetter,certificates:n.length?n:l.certificates,additionalCertificates:j.length?j:l.additionalCertificates};try{localStorage.setItem(P,JSON.stringify(O))}catch{}return O})}catch(r){console.warn("Chargement des documents échoué:",(r==null?void 0:r.message)||r)}})(),()=>{t=!0}},[w,$,P]);const V=4,qe=o/V*100,N=m.useMemo(()=>ut(p),[p]);m.useEffect(()=>{const t=c==null?void 0:c.id,i=u||"no-job";if(!t)return;const r=`application_form_${t}_${i}`,d=`application_form_guest_${i}`,s=r+"_ui",f=d+"_ui";try{const g=!!localStorage.getItem(r),n=localStorage.getItem(d);if(!g&&n){localStorage.setItem(r,n);const j=localStorage.getItem(f);j&&!localStorage.getItem(s)&&localStorage.setItem(s,j)}}catch{}},[c==null?void 0:c.id,u]);const G=m.useRef(null);m.useEffect(()=>{try{const t=JSON.stringify(a);localStorage.setItem(P,t),localStorage.setItem(L,t)}catch{}return c!=null&&c.id&&u&&(G.current&&window.clearTimeout(G.current),G.current=window.setTimeout(async()=>{try{await z.from("application_drafts").upsert({user_id:c.id,job_offer_id:u,form_data:a,ui_state:{currentStep:o,activeTab:v},updated_at:new Date().toISOString()},{onConflict:"user_id,job_offer_id"})}catch(t){console.warn("Draft sync failed (non-blocking):",(t==null?void 0:t.message)||t)}},600)),()=>{G.current&&window.clearTimeout(G.current)}},[a,P,L,c==null?void 0:c.id,u,o,v]),m.useEffect(()=>{(async()=>{let i=!1;if(c!=null&&c.id&&u)try{const{data:r,error:d}=await z.from("application_drafts").select("form_data, ui_state").eq("user_id",c.id).eq("job_offer_id",u).maybeSingle();if(!d&&r){const s=r.form_data,f=r.ui_state;if(s&&(h(g=>{const n={...g,...s,dateOfBirth:s.dateOfBirth?new Date(s.dateOfBirth):g.dateOfBirth};try{localStorage.setItem(P,JSON.stringify(n)),localStorage.setItem(L,JSON.stringify(n))}catch{}return n}),i=!0),f){typeof f.currentStep=="number"&&f.currentStep>=1&&f.currentStep<=V&&typeof B!="number"&&S(f.currentStep),(f.activeTab==="metier"||f.activeTab==="talent"||f.activeTab==="paradigme")&&T(f.activeTab);try{localStorage.setItem(P+"_ui",JSON.stringify(f)),localStorage.setItem(L+"_ui",JSON.stringify(f))}catch{}}}}catch{}try{let r=localStorage.getItem(P+"_ui");if(r||(r=localStorage.getItem(L+"_ui")),!i&&r){const d=JSON.parse(r);if(typeof B!="number"){const s=Number(d.currentStep);s>=1&&s<=V&&S(s)}(d.activeTab==="metier"||d.activeTab==="talent"||d.activeTab==="paradigme")&&T(d.activeTab)}}catch{}})()},[P,L,B,V,c==null?void 0:c.id,u]),m.useEffect(()=>{try{const t=JSON.stringify({currentStep:o,activeTab:v});localStorage.setItem(P+"_ui",t),localStorage.setItem(L+"_ui",t)}catch{}},[o,v,P,L]);const oe=()=>a.firstName.trim()!==""&&a.lastName.trim()!==""&&!0&&a.gender.trim()!==""&&a.dateOfBirth!==null&&a.currentPosition.trim()!==""&&a.yearsOfExperience.trim()!=="",de=()=>a.cv!==null&&a.coverLetter!==null&&a.certificates.length>0,me=()=>{const t=N.metier.every((d,s)=>a[`metier${s+1}`].trim()!==""),i=N.talent.every((d,s)=>a[`talent${s+1}`].trim()!==""),r=N.paradigme.every((d,s)=>a[`paradigme${s+1}`].trim()!=="");return t&&i&&r},ue=()=>{switch(o){case 1:return!oe();case 2:return!de();case 3:return!me();default:return!1}},Ie=()=>{switch(o){case 1:if(!oe()){const t=[];return a.firstName.trim()||t.push("Prénom"),a.lastName.trim()||t.push("Nom"),a.email.trim()||t.push("Email"),a.gender.trim()||t.push("Sexe"),a.dateOfBirth||t.push("Date de naissance"),a.currentPosition.trim()||t.push("Poste actuel"),a.yearsOfExperience.trim()||t.push("Années d'expérience"),t.length>0?`Veuillez renseigner: ${t.join(", ")}`:""}return"";case 2:if(!de()){const t=[];return a.cv||t.push("CV"),a.coverLetter||t.push("Lettre de motivation"),a.certificates.length===0&&t.push("Au moins un diplôme"),t.length>0?`Documents requis: ${t.join(", ")}`:""}return"";case 3:if(!me()){const t=[];return N.metier.every((i,r)=>a[`metier${r+1}`].trim()!=="")||t.push(`Métier (${N.metier.length})`),N.talent.every((i,r)=>a[`talent${r+1}`].trim()!=="")||t.push(`Talent (${N.talent.length})`),N.paradigme.every((i,r)=>a[`paradigme${r+1}`].trim()!=="")||t.push(`Paradigme (${N.paradigme.length})`),t.length>0?`Compléter les onglets: ${t.join(", ")}`:""}return"";default:return""}},Me=()=>{o<V&&S(o+1)},Ve=()=>{o>1&&S(o-1)},Re=async()=>{if(K){I();return}},Ue=t=>t.startsWith("http://")||t.startsWith("https://"),Y=async t=>{try{if(!t||Ue(t))return;await Be(t)}catch(i){console.warn("Suppression stockage échouée (non-bloquant):",(i==null?void 0:i.message)||i)}},Z=async(t,i)=>{const r=t.target.files;if(r)try{if(i==="cv"){const d=await X(r[0],"cv");h({...a,cv:d}),A.success("CV uploadé avec succès!")}else if(i==="coverLetter"){const d=await X(r[0],"cover-letters");h({...a,coverLetter:d}),A.success("Lettre de motivation uploadée avec succès!")}else if(i==="certificates"){const d=Array.from(r).map(f=>X(f,"certificates")),s=await Promise.all(d);h({...a,certificates:[...a.certificates,...s]}),A.success("Diplômes uploadés avec succès!")}else if(i==="additional_certificates"){const d=Array.from(r).map(f=>X(f,"additional-certificates")),s=await Promise.all(d);h({...a,additionalCertificates:[...a.additionalCertificates,...s]}),A.success("Certificats uploadés avec succès!")}}catch(d){A.error("Erreur lors de l'upload: "+d.message,{duration:1/0,closeButton:!0})}};return W?e.jsx(Ze,{children:e.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-6 sm:py-8 lg:py-12",children:e.jsxs("div",{className:"max-w-md sm:max-w-lg mx-auto text-center space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-success rounded-full flex items-center justify-center mx-auto animate-bounce-soft",children:e.jsx(ae,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Candidature envoyée !"}),e.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground px-2 sm:px-4 leading-relaxed",children:["Merci, ",e.jsx("strong",{children:a.firstName})," ! Nous avons bien reçu votre candidature pour le poste de"," ",e.jsx("strong",{children:p})," et nous reviendrons vers vous très prochainement."]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3 px-2 sm:px-4",children:[e.jsx(y,{variant:"hero",onClick:k,className:"w-full bg-white text-blue-600 text-sm sm:text-base py-2 sm:py-3",children:"Retour à l'offre"}),e.jsx(y,{variant:"outline",className:"w-full text-sm sm:text-base py-2 sm:py-3",onClick:()=>U("/candidate/applications"),children:"Voir mes candidatures"})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-6 sm:py-8",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4",children:[e.jsxs(y,{variant:"ghost",onClick:k,className:"mb-3 sm:mb-4 text-blue-600 bg-white text-sm sm:text-base",children:[e.jsx(ie,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Retour à l'offre"}),e.jsx("span",{className:"sm:hidden",children:"Retour"})]}),e.jsxs("div",{className:"text-center space-y-3 sm:space-y-4 px-4",children:[e.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-sm rounded-full px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm",children:"Plateforme de Recrutement Nouvelle Génération"}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:"Rejoignez l'Excellence"}),e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-light break-words",children:p}),e.jsx("p",{className:"text-sm sm:text-base lg:text-lg opacity-90 max-w-2xl mx-auto",children:"Découvrez un processus de candidature innovant qui valorise vos compétences, votre potentiel et votre ambition."}),w==="create"&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(vt,{isSaving:D,lastSaved:F,className:"bg-white/20 text-white border-white/30"})})]})]})}),e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-6 sm:py-8",children:[e.jsx("div",{className:"max-w-4xl mx-auto mb-6 sm:mb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4 overflow-x-auto",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"flex items-center flex-shrink-0",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium transition-all ${t<=o?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-400 border-2 border-gray-200"}`,children:t<=o?e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"}):t}),t<4&&e.jsx("div",{className:`h-1 w-8 sm:w-12 lg:w-16 mx-1 sm:mx-2 rounded-full transition-all ${t<o?"bg-gradient-to-r from-blue-600 to-blue-700":"bg-gray-200"}`})]},t))}),e.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2 text-xs font-medium text-gray-600 text-center",children:[e.jsx("span",{className:"truncate",children:"Infos Personnelles"}),e.jsx("span",{className:"truncate",children:"Parcours & Documents"}),e.jsx("span",{className:"truncate",children:"Adhérence MTP"}),e.jsx("span",{className:"truncate",children:"Finalisation"})]}),e.jsx("div",{className:"mt-3 sm:mt-4 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2 rounded-full transition-all duration-500",style:{width:`${qe}%`}})})]})}),J&&F&&e.jsx("div",{className:"max-w-4xl mx-auto mb-6",children:e.jsx(Nt,{onRestore:Le,onIgnore:Ae,lastSaved:F})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 sm:gap-8",children:[e.jsx("div",{className:"xl:col-span-1 order-2 xl:order-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 xl:sticky xl:top-8",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(ae,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Étape ",e.jsx("span",{className:"font-semibold text-foreground",children:o})," / ",V]})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3 text-center",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Guide de candidature"}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:[e.jsx("p",{className:"mb-2 whitespace-nowrap",children:"Ce formulaire se déroule en 4 étapes :"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-left inline-block",children:[e.jsx("li",{children:"Renseignez vos informations ;"}),e.jsx("li",{children:"Ajoutez vos documents clés ;"}),e.jsx("li",{children:"Indiquez votre adhérence MTP (Métier, Talent, Paradigme) ;"}),e.jsx("li",{children:"Vérifiez et soumettez votre candidature."})]})]})]})]})})}),e.jsx("div",{className:"xl:col-span-2 order-1 xl:order-2",children:e.jsxs(He,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsx(Qe,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:e.jsxs(We,{className:"flex items-center gap-2 sm:gap-3 text-base sm:text-lg lg:text-xl",children:[o===1&&e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"})," Informations Personnelles"]}),o===2&&e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"})," Parcours & Documents"]}),o===3&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"})," Adhérence MTP"]}),o===4&&e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"})," Finalisation"]})]})}),e.jsxs(Xe,{className:"space-y-6",children:[o===1&&e.jsxs("div",{className:"space-y-4 animate-fade-in py-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"firstName",children:"Prénom *"}),e.jsx(R,{id:"firstName",value:a.firstName,onChange:t=>h({...a,firstName:t.target.value}),placeholder:"Votre prénom",required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"lastName",children:"Nom *"}),e.jsx(R,{id:"lastName",value:a.lastName,onChange:t=>h({...a,lastName:t.target.value}),placeholder:"Votre nom",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email *"}),e.jsx(R,{id:"email",type:"email",value:a.email,onChange:t=>{const i=t.target.value;h({...a,email:i}),t.target.setCustomValidity("")},onBlur:t=>{},placeholder:"votre.email@exemple.com",required:!0,"aria-describedby":"email-help"}),e.jsx("p",{id:"email-help",className:"text-xs text-muted-foreground mt-1",children:"Cet email sera utilisé pour votre profil (envoi de confirmation désactivé)"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"dateOfBirth",children:"Date de naissance *"}),e.jsx(R,{id:"dateOfBirth",type:"date",value:a.dateOfBirth?new Date(a.dateOfBirth).toISOString().slice(0,10):"",max:"2007-12-31",min:"1900-01-01",onChange:t=>{const i=t.target.value,r=i?new Date(i):null;r&&r.getFullYear()>2007?t.target.setCustomValidity("Vous devez avoir au moins 18 ans"):t.target.setCustomValidity(""),h({...a,dateOfBirth:r})},required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"gender",children:"Sexe *"}),e.jsxs(et,{value:a.gender,onValueChange:t=>h({...a,gender:t}),children:[e.jsx(tt,{children:e.jsx(st,{placeholder:"Sélectionnez votre sexe"})}),e.jsxs(at,{children:[e.jsx($e,{value:"homme",children:"Homme"}),e.jsx($e,{value:"femme",children:"Femme"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"currentPosition",children:"Poste actuel *"}),e.jsx(R,{id:"currentPosition",value:a.currentPosition,onChange:t=>h({...a,currentPosition:t.target.value}),placeholder:"Votre poste actuel",required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"yearsOfExperience",children:"Années d'expérience à la SEEG ou dans un secteur similaire *"}),e.jsx(R,{id:"yearsOfExperience",type:"number",min:"0",max:"60",value:a.yearsOfExperience,onChange:t=>{const i=t.target.value,r=i===""?"":Math.max(0,Math.min(60,parseInt(i)||0)).toString();h({...a,yearsOfExperience:r})},placeholder:"Ex: 5",required:!0})]})]}),o===2&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"coverLetter",children:"Lettre de motivation *"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 sm:p-6 text-center hover:border-primary transition-colors","aria-busy":C,"aria-live":"polite",children:[C?e.jsx(se,{size:"lg",text:"Upload en cours..."}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.coverLetter?a.coverLetter.name:"Glissez votre lettre de motivation ici ou cliquez pour parcourir"})]}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:t=>Z(t,"coverLetter"),className:"hidden",id:"cover-letter-upload"}),e.jsx(y,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{var t;return(t=document.getElementById("cover-letter-upload"))==null?void 0:t.click()},disabled:C,children:C?"Upload...":"Choisir un fichier"}),a.coverLetter&&e.jsxs("div",{className:"mt-3 flex items-center justify-between bg-muted p-2 rounded text-sm",children:[e.jsx("span",{children:a.coverLetter.name}),e.jsx(y,{variant:"ghost",size:"sm",onClick:async()=>{var t;await Y((t=a.coverLetter)==null?void 0:t.path),h({...a,coverLetter:null})},children:e.jsx(ee,{className:"w-4 h-4"})})]})]})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"cv",children:"Votre CV *"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 sm:p-6 text-center hover:border-primary transition-colors","aria-busy":C,"aria-live":"polite",children:[C?e.jsx(se,{size:"lg",text:"Upload en cours..."}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.cv?a.cv.name:"Glissez votre CV ici ou cliquez pour parcourir"})]}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:t=>Z(t,"cv"),className:"hidden",id:"cv-upload"}),e.jsx(y,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{var t;return(t=document.getElementById("cv-upload"))==null?void 0:t.click()},disabled:C,children:C?"Upload...":"Choisir un fichier"}),a.cv&&e.jsxs("div",{className:"mt-3 flex items-center justify-between bg-muted p-2 rounded text-sm",children:[e.jsx("span",{children:a.cv.name}),e.jsx(y,{variant:"ghost",size:"sm",onClick:async()=>{var t;await Y((t=a.cv)==null?void 0:t.path),h({...a,cv:null})},children:e.jsx(ee,{className:"w-4 h-4"})})]})]})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"diplomas",children:"Diplômes *"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 sm:p-6 text-center hover:border-primary transition-colors","aria-busy":C,"aria-live":"polite",children:[C?e.jsx(se,{size:"lg",text:"Upload en cours..."}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez vos diplômes ici ou cliquez pour parcourir (plusieurs fichiers acceptés)"})]}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0,onChange:t=>Z(t,"certificates"),className:"hidden",id:"diplomas-upload"}),e.jsx(y,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{var t;return(t=document.getElementById("diplomas-upload"))==null?void 0:t.click()},disabled:C,children:C?"Upload...":"Choisir des fichiers"}),a.certificates.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:a.certificates.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between bg-muted p-2 rounded text-sm",children:[e.jsx("span",{children:t.name}),e.jsx(y,{variant:"ghost",size:"sm",onClick:async()=>{await Y(t.path);const r=a.certificates.filter((d,s)=>s!==i);h({...a,certificates:r})},children:e.jsx(ee,{className:"w-4 h-4"})})]},i))})]})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"additionalCertificates",children:"Certificats supplémentaires (facultatif)"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 sm:p-6 text-center hover:border-primary transition-colors","aria-busy":C,"aria-live":"polite",children:[C?e.jsx(se,{size:"lg",text:"Upload en cours..."}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Certificats professionnels, formations, etc. (plusieurs fichiers acceptés)"})]}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0,onChange:t=>Z(t,"additional_certificates"),className:"hidden",id:"additional-certificates-upload"}),e.jsx(y,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{var t;return(t=document.getElementById("additional-certificates-upload"))==null?void 0:t.click()},disabled:C,children:C?"Upload...":"Choisir des fichiers"}),a.additionalCertificates.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:a.additionalCertificates.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between bg-muted p-2 rounded text-sm",children:[e.jsx("span",{children:t.name}),e.jsx(y,{variant:"ghost",size:"sm",onClick:async()=>{await Y(t.path);const r=a.additionalCertificates.filter((d,s)=>s!==i);h({...a,additionalCertificates:r})},children:e.jsx(ee,{className:"w-4 h-4"})})]},i))})]})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"references",children:"Références de recommandation (facultatif)"}),e.jsx(te,{id:"references",value:a.references,onChange:t=>h({...a,references:t.target.value}),placeholder:"Nom, poste, entreprise, téléphone/email de vos références...",className:"min-h-[80px]"})]})]}),o===3&&e.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Adhérence MTP au poste"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 sm:mb-6 px-2",children:"Évaluez votre adéquation avec le poste selon les dimensions Métier, Talent et Paradigme."}),e.jsx("div",{className:"flex justify-center border-b border-gray-200 w-full mb-4 sm:mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-2 sm:space-x-4 lg:space-x-8 overflow-x-auto","aria-label":"Navigation MTP",children:[e.jsxs("button",{onClick:()=>T("metier"),className:`${v==="metier"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} 
                            whitespace-nowrap py-2 sm:py-4 px-3 sm:px-6 border-b-2 font-medium text-xs sm:text-sm flex items-center justify-center gap-1 sm:gap-2 min-w-[80px] sm:min-w-[120px]`,children:[e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs font-bold ${v==="metier"?"bg-blue-600 text-white":"bg-blue-100 text-blue-800"}`,children:"M"}),e.jsx("span",{className:"hidden sm:inline",children:"Métier"})]}),e.jsxs("button",{onClick:()=>T("talent"),className:`${v==="talent"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} 
                            whitespace-nowrap py-2 sm:py-4 px-3 sm:px-6 border-b-2 font-medium text-xs sm:text-sm flex items-center justify-center gap-1 sm:gap-2 min-w-[80px] sm:min-w-[120px]`,children:[e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs font-bold ${v==="talent"?"bg-green-600 text-white":"bg-green-100 text-green-800"}`,children:"T"}),e.jsx("span",{className:"hidden sm:inline",children:"Talent"})]}),e.jsxs("button",{onClick:()=>T("paradigme"),className:`${v==="paradigme"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} 
                            whitespace-nowrap py-2 sm:py-4 px-3 sm:px-6 border-b-2 font-medium text-xs sm:text-sm flex items-center justify-center gap-1 sm:gap-2 min-w-[80px] sm:min-w-[120px]`,children:[e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs font-bold ${v==="paradigme"?"bg-purple-600 text-white":"bg-purple-100 text-purple-800"}`,children:"P"}),e.jsx("span",{className:"hidden sm:inline",children:"Paradigme"})]})]})})]}),e.jsxs("div",{className:"mt-2 sm:mt-4",children:[v==="metier"&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4 lg:p-6 border border-blue-200 animate-fade-in",children:[e.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-blue-800 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"M"}),"Métier"]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:N.metier.map((t,i)=>e.jsxs("div",{children:[e.jsx(E,{htmlFor:`metier${i+1}`,className:"text-sm sm:text-base",children:t}),e.jsx(te,{id:`metier${i+1}`,value:a[`metier${i+1}`],onChange:r=>h({...a,[`metier${i+1}`]:r.target.value}),placeholder:"Votre réponse...",className:"min-h-[60px] sm:min-h-[80px] mt-1 sm:mt-2 text-sm sm:text-base"})]},i))})]}),v==="talent"&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4 lg:p-6 border border-green-200 animate-fade-in",children:[e.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-green-800 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"T"}),"Talent"]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:N.talent.map((t,i)=>e.jsxs("div",{children:[e.jsx(E,{htmlFor:`talent${i+1}`,className:"text-sm sm:text-base",children:t}),e.jsx(te,{id:`talent${i+1}`,value:a[`talent${i+1}`],onChange:r=>h({...a,[`talent${i+1}`]:r.target.value}),placeholder:"Votre réponse...",className:"min-h-[60px] sm:min-h-[80px] mt-1 sm:mt-2 text-sm sm:text-base"})]},i))})]}),v==="paradigme"&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 sm:p-4 lg:p-6 border border-purple-200 animate-fade-in",children:[e.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-purple-800 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"P"}),"Paradigme"]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:N.paradigme.map((t,i)=>e.jsxs("div",{children:[e.jsx(E,{htmlFor:`paradigme${i+1}`,className:"text-sm sm:text-base",children:t}),e.jsx(te,{id:`paradigme${i+1}`,value:a[`paradigme${i+1}`],onChange:r=>h({...a,[`paradigme${i+1}`]:r.target.value}),placeholder:"Votre réponse...",className:"min-h-[60px] sm:min-h-[80px] mt-1 sm:mt-2 text-sm sm:text-base"})]},i))})]})]})]}),o<4&&e.jsxs("div",{className:"mt-6",children:[ue()&&e.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-orange-800 flex items-center gap-2",children:[e.jsx("span",{className:"text-orange-600",children:"⚠️"}),Ie()]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{variant:"ghost",onClick:Ve,disabled:o===1,children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Précédent"]}),e.jsxs(y,{onClick:Me,className:"w-full sm:w-auto",disabled:ue(),children:["Suivant",e.jsx(pt,{className:"w-4 h-4 ml-2"})]})]})]}),o===4&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-center mb-6",children:"Récapitulatif de votre candidature"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-medium",children:"Informations Personnelles"}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>S(1),children:"Modifier"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Nom complet:"}),e.jsxs("p",{children:[a.firstName," ",a.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("p",{children:a.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Date de naissance:"}),e.jsx("p",{children:a.dateOfBirth?ft(a.dateOfBirth,"PPP",{locale:ce}):"Non renseigné"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Sexe:"}),e.jsx("p",{children:a.gender||"Non renseigné"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Poste actuel:"}),e.jsx("p",{children:a.currentPosition||"Non renseigné"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Années d'expérience:"}),e.jsx("p",{children:a.yearsOfExperience||"Non renseigné"})]})]})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-medium",children:"Parcours & Documents"}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>S(2),children:"Modifier"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"CV:"}),e.jsx("p",{children:a.cv?a.cv.name:"Non fourni"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Lettre de motivation:"}),e.jsx("p",{children:a.coverLetter?a.coverLetter.name:"Non fournie"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Diplômes:"}),e.jsxs("p",{children:[a.certificates.length," fichier(s)"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Certificats"}),e.jsxs("p",{children:[a.additionalCertificates.length," fichier(s)"]})]})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-medium",children:"Adhérence MTP au poste"}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>S(3),children:"Modifier"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Métier:"}),e.jsxs("p",{className:"text-xs",children:[N.metier.map((t,i)=>a[`metier${i+1}`]).filter(Boolean).length,"/",N.metier.length," questions répondues"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Talent:"}),e.jsxs("p",{className:"text-xs",children:[N.talent.map((t,i)=>a[`talent${i+1}`]).filter(Boolean).length,"/",N.talent.length," questions répondues"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Paradigme:"}),e.jsxs("p",{className:"text-xs",children:[N.paradigme.map((t,i)=>a[`paradigme${i+1}`]).filter(Boolean).length,"/",N.paradigme.length," questions répondues"]})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(rt,{id:"consent",checked:a.consent,onCheckedChange:t=>h({...a,consent:t})}),e.jsxs(E,{htmlFor:"consent",className:"text-sm text-muted-foreground leading-relaxed",children:["J'accepte que mes données personnelles soient traitées dans le cadre de cette candidature conformément à la ",e.jsx(Ye,{to:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"underline underline-offset-2 text-blue-700 hover:text-blue-800",children:"politique de confidentialité"}),"."]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs(y,{variant:"ghost",onClick:()=>S(Math.max(1,o-1)),children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Précédent"]}),e.jsx(y,{variant:"success",onClick:Re,className:"w-full sm:w-auto",disabled:!a.consent||dt(),title:"",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:inline",children:"Envoyer ma candidature"}),e.jsx("span",{className:"sm:hidden",children:"Envoyer"}),e.jsx(Te,{className:"w-4 h-4 ml-2"})]})})]})]})]})]})})]})})]})]})}export{Kt as A};
