import{r as t,j as e,B as i,X as U,u as H,a as X,L as D,b as S}from"./index-Dt07UTka.js";import{u as K}from"./useJobOffers-BrDiClz1.js";import{L as Q}from"./Layout-mbh2DWpt.js";import{G as W,J as Y}from"./job-card-nIfnLekR.js";import{C as Z}from"./calendar-BKvS43I6.js";import{C as ee}from"./calendar-days-BK0Xe0j_.js";import{C as se}from"./clock-BVvfuB3Z.js";import{I as te}from"./input-Bw9vQiwZ.js";import{S as R,a as F,b as _,c as I,d as L}from"./select-B2MghH9c.js";import{P as ae,a as le,b as ie}from"./popover-YAsM8h-6.js";import{C as re}from"./Chatbot-6VsFwavh.js";import{i as ne}from"./launchGate-DNqG8lWI.js";import{L as oe}from"./list-BNYgf13m.js";import{S as ce}from"./search-CrW7gRAG.js";import{F as de}from"./filter-nUhWB70p.js";import{B as me}from"./building-SUKbbJV_.js";import"./useQuery-BeOx6H6z.js";import"./badge-BL2mfjTD.js";import"./fr-CfdXjsD4.js";import"./en-US-Dy1UnLtf.js";import"./useMutation-DLLhhcgk.js";import"./formatDistanceToNow-2oA28mCp.js";import"./endOfMonth-CkNiGKnp.js";import"./log-out-C2CngwNs.js";import"./applicationUtils-GIDm11E_.js";import"./map-pin-YC5vFqhh.js";import"./briefcase-DGZDCsL0.js";import"./index-Cr6IkeUt.js";import"./index-BdQq_4o_.js";import"./index-lOYlu7e4.js";import"./Combination-aU0zapuW.js";import"./index-CUAMUldx.js";import"./phone-Bri8K_yJ.js";import"./mail-DxVkVQXW.js";import"./user-ix4zyo1H.js";import"./send-ekdqg9ff.js";function xe({jobOffers:r}){const[n,x]=t.useState(""),[u]=t.useState(new Date("2025-09-01"));t.useEffect(()=>{const d=()=>{const v=new Date,l=u.getTime()-v.getTime();if(l<=0){x("0j 00h 00m 00s");return}const w=Math.floor(l/(1e3*60*60*24)),o=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),N=Math.floor(l%(1e3*60*60)/(1e3*60)),k=Math.floor(l%(1e3*60)/1e3);x(`${w}j ${o}h ${N}m ${k}s`)};d();const m=setInterval(d,1e3);return()=>clearInterval(m)},[u]);const[p,f]=t.useState(!0),[j,g]=t.useState(!1);if(t.useEffect(()=>{g(new Date>new Date("2025-08-31T23:59:59"))},[]),!n||!p)return null;const a=()=>"border-[#631120]/50",T=()=>e.jsx(se,{className:"w-5 h-5 text-yellow-400 animate-pulse mr-2"}),b=()=>"Candidatures ";return e.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-auto max-w-sm",children:e.jsxs("div",{className:`text-white p-5 rounded-xl shadow-2xl border backdrop-blur-sm ${a()}`,style:{background:"linear-gradient(135deg,rgba(128, 0, 0, 1) 0%,rgba(128, 0, 0, 1) 100%)"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[T(),e.jsx("span",{className:"font-bold text-sm",children:b()})]}),e.jsx(i,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-white/70 hover:text-white hover:bg-white/10 rounded-full",onClick:()=>f(!1),children:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 backdrop-blur-sm",children:[e.jsx("div",{className:"text-xs text-white/80 mb-2 font-medium",children:"PÉRIODE DE CANDIDATURES"}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"w-4 h-4 mr-1.5 text-white/70"}),e.jsx("span",{className:"font-mono",children:"25/08/2025"})]}),e.jsx("div",{className:"text-white/60 mx-2",children:"→"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-1.5 text-white/70"}),e.jsx("span",{className:"font-mono",children:"31/08/2025"})]})]})]}),e.jsxs("div",{className:"bg-white/15 rounded-lg p-3 backdrop-blur-sm",children:[e.jsx("div",{className:"text-xs text-white/80 mb-2 font-medium",children:"COMPTE À REBOURS"}),e.jsx("div",{className:"font-mono text-base sm:text-lg font-bold tracking-wider text-yellow-400 break-words",children:n.split(": ")[1]||n}),j&&e.jsx("div",{className:"mt-2 text-left text-yellow-400 font-semibold text-xs sm:text-sm pl-0 pr-2",children:"L'appel à candidature est clôturé"})]})]})]})})}const is=()=>{const r=H(),{user:n,isCandidate:x,isRecruiter:u,isAdmin:p,isObserver:f,isLoading:j,isRoleLoading:g}=X(),a=ne(),T=()=>S.info("Les inscriptions seront disponibles à partir du lundi 25 août 2025."),[b,d]=t.useState(""),[m,v]=t.useState("cards"),[l,w]=t.useState("all"),[o,N]=t.useState("all"),[k,V]=t.useState(!1),[ue,he]=t.useState(""),[pe,fe]=t.useState("Test"),[je,ge]=t.useState("Développeur Full Stack"),[be,ve]=t.useState(!1),[we,Ne]=t.useState(null),{data:E,isLoading:$,error:P}=K(),h=Array.isArray(E)?E:[],y=s=>Array.isArray(s)?s.join(", "):s,M=[...new Set(h.flatMap(s=>Array.isArray(s.location)?s.location:[s.location]).filter(s=>typeof s=="string"&&s.trim().length>0))],G=[...new Set(h.map(s=>s.contract_type)||[])];t.useEffect(()=>{if(!n||j||g)return;const s=window.location.pathname;if(s!=="/"&&s!=="/index")return;const c=setTimeout(()=>{n&&(p?r("/admin/dashboard",{replace:!0}):u||f?r("/recruiter/dashboard",{replace:!0}):x&&r("/candidate/dashboard?view=dashboard",{replace:!0}))},100);return()=>clearTimeout(c)},[n,p,u,f,x,j,g,r]);const A=window.location.pathname;if(n&&(A==="/"||A==="/index"))return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[e.jsx(D,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Redirection en cours..."})]})});const C=h.filter(s=>{const c=(s.title||"").toLowerCase(),O=y(s.location).toLowerCase(),z=(b||"").toLowerCase(),q=c.includes(z)||O.includes(z),J=l==="all"||(Array.isArray(s.location)?s.location.includes(l):s.location===l),B=o==="all"||s.contract_type===o;return q&&J&&B});return e.jsxs(Q,{showFooter:!0,children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-white/5 rounded-full -translate-x-36 -translate-y-36"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white/5 rounded-full translate-x-48 translate-y-48"})]}),e.jsx("div",{className:"relative container mx-auto px-4 py-12 sm:py-16 md:py-20",children:e.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4 animate-fade-in",children:[e.jsx("div",{className:"bg-white rounded-full p-2 sm:p-3 shadow-lg",children:e.jsx("img",{src:"/logo-SEEG.png",alt:"Logo SEEG",className:"h-12 w-12 sm:h-16 sm:w-16 object-contain"})}),e.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-sm rounded-full px-4 sm:px-6 py-1.5 sm:py-2 text-xs sm:text-sm font-medium",children:"Société d'Énergie et d'Eau du Gabon"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold animate-fade-in delay-100 px-2 leading-tight",children:"Rejoignez l'équipe dirigeante de la SEEG"}),e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold opacity-90 animate-fade-in delay-150 px-4 leading-relaxed",children:"et participez au développement énergétique du Gabon"}),e.jsx("div",{className:"pt-4 sm:pt-6 animate-fade-in delay-400",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center px-4",children:[e.jsx(i,{variant:"outline",size:"lg",className:"border-2 border-white bg-transparent text-white w-full sm:w-auto",onClick:()=>r("/company-context"),children:"Contexte de recrutement"}),e.jsx(i,{size:"lg",className:"bg-white text-blue-700 font-semibold w-full sm:w-auto opacity-50 cursor-not-allowed pointer-events-none",onClick:s=>{s.preventDefault(),s.stopPropagation(),a&&T()},disabled:!0,title:a?"Candidatures indisponibles jusqu'au 25 août 2025":"",children:"Candidatures closes"})]})})]})})]}),h.length>0&&e.jsx(xe,{jobOffers:h}),e.jsxs("div",{className:"container mx-auto px-4 py-8",id:"job-list",children:[e.jsx("div",{className:"flex justify-center mb-4 sm:mb-6 px-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-sm border w-full sm:w-auto",children:[e.jsxs(i,{variant:m==="cards"?"default":"ghost",size:"sm",onClick:()=>v("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none text-xs sm:text-sm",children:[e.jsx(W,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Vue "}),"Cartes"]}),e.jsxs(i,{variant:m==="list"?"default":"ghost",size:"sm",onClick:()=>v("list"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none text-xs sm:text-sm",children:[e.jsx(oe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Vue "}),"Liste"]})]})}),e.jsx("div",{className:"max-w-2xl mx-auto mb-6 sm:mb-8 px-4 animate-fade-in delay-200",children:e.jsxs("div",{className:"relative flex gap-2",role:"search","aria-label":"Recherche d'offres",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ce,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),e.jsx(te,{placeholder:"Rechercher un poste ou une ville...",value:b,onChange:s=>d(s.target.value),className:"pl-10 h-10 sm:h-12 text-sm sm:text-base","aria-label":"Rechercher un poste ou une ville",type:"search",autoComplete:"off",spellCheck:!1})]}),e.jsxs(ae,{open:k,onOpenChange:V,children:[e.jsx(le,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"h-10 sm:h-12 gap-1 sm:gap-2 w-10 sm:w-auto justify-center text-xs sm:text-sm",children:[e.jsx(de,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filtres"}),(l!=="all"||o!=="all")&&e.jsx("span",{className:"bg-primary text-primary-foreground rounded-full w-4 h-4 sm:w-5 sm:h-5 text-xs flex items-center justify-center",children:(l!=="all"?1:0)+(o!=="all"?1:0)})]})}),e.jsx(ie,{className:"w-80",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:"Filtres de recherche"}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>{w("all"),N("all")},children:"Effacer tout"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Localisation"}),e.jsxs(R,{value:l,onValueChange:w,children:[e.jsx(F,{children:e.jsx(_,{placeholder:"Toutes les villes"})}),e.jsxs(I,{children:[e.jsx(L,{value:"all",children:"Toutes les villes"}),M.map(s=>e.jsx(L,{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type de contrat"}),e.jsxs(R,{value:o,onValueChange:N,children:[e.jsx(F,{children:e.jsx(_,{placeholder:"Tous les contrats"})}),e.jsxs(I,{children:[e.jsx(L,{value:"all",children:"Tous les contrats"}),G.map(s=>e.jsx(L,{value:s,children:s},s))]})]})]})]})})]})]})}),e.jsx("div",{className:"flex justify-center mb-6 sm:mb-8 px-4",children:e.jsx("div",{className:"bg-card rounded-lg border p-3 sm:p-4 shadow-soft",children:e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground text-center",children:[e.jsx("span",{className:"font-semibold text-primary",children:C.length})," offres disponibles"]})})}),e.jsx("div",{className:"max-w-7xl mx-auto mb-8 sm:mb-12",children:$?e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 py-8 sm:py-12",children:[e.jsx(D,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin text-primary"}),e.jsx("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Chargement des offres..."})]}):P?e.jsxs("div",{className:"text-center text-red-600 py-8 sm:py-12 px-4",children:[e.jsx("p",{className:"text-sm sm:text-base",children:"Une erreur est survenue lors du chargement des offres d'emploi."}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Veuillez réessayer plus tard."})]}):m==="cards"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:C.map((s,c)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${300+c*100}ms`},children:e.jsx(Y,{title:s.title,location:y(s.location),contractType:s.contract_type,description:s.description,isPreview:!0,onClick:()=>r(`/jobs/${s.id}`),locked:a,onLockedClick:()=>S.info("Les appels à candidature seront disponibles à partir du lundi 25 août 2025.")})},s.id))}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden mx-4",children:[e.jsxs("div",{className:`hidden sm:grid ${a?"[grid-template-columns:1fr_auto]":"[grid-template-columns:2fr_minmax(160px,1fr)_minmax(180px,1fr)_auto]"} items-center gap-4 p-4 bg-gray-50 border-b font-semibold text-sm`,children:[e.jsx("div",{children:"Titre du poste"}),!a&&e.jsx("div",{children:"Lieu"}),!a&&e.jsx("div",{children:"Type de contrat"}),e.jsx("div",{className:"text-center",children:"Action"})]}),C.map((s,c)=>e.jsxs("div",{className:"border-b hover:bg-gray-50 transition-colors animate-fade-in",style:{animationDelay:`${300+c*50}ms`},children:[e.jsxs("div",{className:"sm:hidden p-4 space-y-3",children:[e.jsx("div",{className:"font-medium text-base sm:text-lg",children:s.title}),!a&&e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:y(s.location)}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:s.contract_type})]}),e.jsx(i,{variant:"default",size:"sm",onClick:()=>a?S.info("Les appels à candidature seront disponibles à partir du  lundi 25 août 2025."):r(`/jobs/${s.id}`),className:"w-full text-xs sm:text-sm h-8 md:h-9",children:"Voir l'offre"})]}),e.jsxs("div",{className:`hidden sm:grid ${a?"[grid-template-columns:1fr_auto]":"[grid-template-columns:2fr_minmax(160px,1fr)_minmax(180px,1fr)_auto]"} items-center gap-4 p-4`,children:[e.jsx("div",{className:"font-medium",children:s.title}),!a&&e.jsx("div",{className:"text-muted-foreground",children:y(s.location)}),!a&&e.jsx("div",{className:"text-muted-foreground",children:s.contract_type}),e.jsx("div",{className:"flex justify-center",children:e.jsx(i,{variant:"default",size:"sm",onClick:()=>a?S.info("Les appels à candidature seront disponibles à partir du  lundi 25 août 2025."):r(`/jobs/${s.id}`),className:"w-full md:w-auto text-xs sm:text-sm h-8 md:h-9",children:"Voir l'offre"})})]})]},s.id))]})}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8 sm:mb-12 px-4",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-xl p-4 sm:p-6 md:p-8 shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(me,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",children:"À propos de l'entreprise : Contexte du recrutement"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg opacity-90 mb-4 sm:mb-6 leading-relaxed",children:"Explorez la vision stratégique et les ambitions portées par cette campagne de recrutement inédite pour impulser une nouvelle ère à la SEEG"}),e.jsx(i,{variant:"secondary",size:"lg",asChild:!0,className:"w-full sm:w-auto",children:e.jsx("a",{href:"/company-context",children:"En savoir plus →"})})]})]})})}),C.length===0&&e.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[e.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mb-4",children:"Aucune offre ne correspond à votre recherche."}),e.jsx(i,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>d(""),children:"Voir toutes les offres"})]}),e.jsx("div",{className:"text-center py-12 sm:py-16 mt-8 sm:mt-16 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-3 sm:mb-4",children:"Espace recruteurs"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 sm:mb-6",children:"Accédez à l'interface de gestion des candidatures et du processus de recrutement."}),e.jsx(i,{variant:"recruiter",size:"lg",asChild:!0,className:"w-full sm:w-auto",children:e.jsx("a",{href:"/auth",children:"Accéder à l'espace RH"})})]})})]}),e.jsx(re,{})]})};export{is as default};
