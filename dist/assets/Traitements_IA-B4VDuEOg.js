import{n as Me,u as $e,r as d,j as e,B as g,a7 as Re,A as Le,C as m,e as x,c as u,d as h}from"./index-Dt07UTka.js";import{R as H}from"./RecruiterLayout-CzqFpArC.js";import{I as Ve}from"./input-Bw9vQiwZ.js";import{B as w}from"./badge-BL2mfjTD.js";import{D as Ie,b as Be,c as Ee,d as Ue}from"./dialog-DETbZ713.js";import{T as ze,a as Oe,b as pe,c as C,d as qe,e as A}from"./table-CyBlcsHn.js";import{S as k,a as S,b as T,c as F,d as n}from"./select-B2MghH9c.js";import{u as He}from"./useAIData-Bczh7_dk.js";import{C as D}from"./circle-alert-BJk9C7zG.js";import{B as je}from"./brain-BM1gby9g.js";import{S as Ge}from"./search-CrW7gRAG.js";import{F as Xe}from"./filter-nUhWB70p.js";import{C as P}from"./circle-x-Duq0gYSF.js";import{U as G}from"./users-BSixSwM-.js";import{B as ge}from"./briefcase-DGZDCsL0.js";import{M as Ne}from"./map-pin-YC5vFqhh.js";import{A as Je}from"./award-BYw8fzxC.js";import{E as ve}from"./eye-BrJFRD8F.js";import{F as X}from"./file-text-XdKEpMSd.js";import{C as Qe}from"./chevron-left-q0C6Vo0_.js";import{C as We}from"./chevron-right-BfnH_zY5.js";import{C as Ye}from"./chart-column-Cqu8Sd2N.js";import{T as be}from"./target-ATEbl8ER.js";import{C as J}from"./circle-check-big-DK0TIh3k.js";import{T as De}from"./trending-up-B44pE4Wv.js";import"./sidebar-DQHe9abK.js";import"./separator-CPOmk9ej.js";import"./index-CnKgKWfo.js";import"./Combination-aU0zapuW.js";import"./layout-dashboard-CftRPHET.js";import"./user-ix4zyo1H.js";import"./log-out-C2CngwNs.js";import"./index-Cr6IkeUt.js";import"./index-BdQq_4o_.js";import"./index-lOYlu7e4.js";import"./index-CUAMUldx.js";const E=f=>{const t=f.toLowerCase();return t==="retenu"||t==="favorable"?"Favorable":t==="mitigé"?"Mitigé":t==="défavorable"||t==="non retenu"||t==="rejeté"||t.includes("non retenu")||t.includes("ne remplit aucune")||t.includes("recommandé de ne pas retenir")||t.includes("n'est pas retenu")||t.includes("il n'est pas retenu")||t.includes("non retenu pour le poste")||t.includes("ne répond à aucun")||t.includes("n'est actuellement pas adapté")||t.includes("alignement quasi inexistant")||t.includes("rejeté")||t.includes("rejet")||t.includes("dossier ne contient aucune information")||t.includes("impossible de rendre un verdict définitif")?"Non retenu":t.includes("mitigé")||t.includes("inadéquation partielle")||t.includes("nécessite des améliorations")||t.includes("dossier de candidature a besoin d'améliorations")||t.includes("améliorations ciblées")||t.includes("candidat crédible")||t.includes("expérience substantielle")||t.includes("expérience significative")?"Mitigé":t.includes("favorable")||t.includes("candidat optimal")||t.includes("qualifié pour le poste")||t.includes("candidat qualifié")?"Favorable":f},we=f=>{const t=f.toLowerCase();return t==="retenu"||t==="favorable"?"success":t==="mitigé"?"secondary":t==="défavorable"||t==="non retenu"||t==="rejeté"||t.includes("non retenu")||t.includes("ne remplit aucune")||t.includes("recommandé de ne pas retenir")||t.includes("n'est pas retenu")||t.includes("il n'est pas retenu")||t.includes("non retenu pour le poste")||t.includes("ne répond à aucun")||t.includes("n'est actuellement pas adapté")||t.includes("alignement quasi inexistant")||t.includes("rejeté")||t.includes("rejet")||t.includes("dossier ne contient aucune information")||t.includes("impossible de rendre un verdict définitif")?"destructive":t.includes("mitigé")||t.includes("inadéquation partielle")||t.includes("nécessite des améliorations")||t.includes("dossier de candidature a besoin d'améliorations")||t.includes("améliorations ciblées")||t.includes("candidat crédible")||t.includes("expérience substantielle")||t.includes("expérience significative")?"secondary":t.includes("favorable")||t.includes("candidat optimal")||t.includes("qualifié pour le poste")||t.includes("candidat qualifié")?"success":"default"};function Rs(){var ae,te,re,ie,le,ne,ce,de,oe,me,xe,ue;const{data:f,isLoading:t,error:Q}=He(),[M,Ze]=Me(),_e=$e(),[j,$]=d.useState(""),[N,R]=d.useState("all"),[v,U]=d.useState("all"),[b,z]=d.useState("all"),[O,ye]=d.useState("rang"),[L,Ce]=d.useState("asc"),[W,Ae]=d.useState(!1),[o,V]=d.useState(1),[_]=d.useState(5),Y=M.get("returnUrl");d.useEffect(()=>{const a=M.get("department"),r=M.get("candidate");a&&R(decodeURIComponent(a)),r&&$(decodeURIComponent(r))},[M]);const[s,ke]=d.useState(null),[Se,Z]=d.useState(!1),K=d.useMemo(()=>{if(!f)return[];const a=[];return Object.entries(f).forEach(([r,i])=>{i.forEach((l,c)=>{const B=r.charAt(0).toUpperCase()+r.slice(1);a.push({id:`${r}-${c}`,firstName:l.prenom,lastName:l.nom,poste:l.poste,department:B,aiData:l})})}),a},[f]),p=d.useMemo(()=>{let a=K;if(j){const r=j.toLowerCase();a=a.filter(i=>{var B,he,fe;const l=i.firstName.toLowerCase().includes(r)||i.lastName.toLowerCase().includes(r)||i.department.toLowerCase().includes(r)||i.poste.toLowerCase().includes(r),c=i.aiData.resume_global.commentaire_global.toLowerCase().includes(r)||((B=i.aiData.mtp)==null?void 0:B.niveau)&&i.aiData.mtp.niveau.toLowerCase().includes(r)||((he=i.aiData.similarite_offre)==null?void 0:he.commentaire_score)&&i.aiData.similarite_offre.commentaire_score.toLowerCase().includes(r)||((fe=i.aiData.conformite)==null?void 0:fe.commentaire)&&i.aiData.conformite.commentaire.toLowerCase().includes(r);return l||c})}return N!=="all"&&(a=a.filter(r=>r.department===N)),v!=="all"&&(a=a.filter(r=>E(r.aiData.resume_global.verdict)===v)),b!=="all"&&(a=a.filter(r=>{const i=r.aiData.resume_global.score_global*100;switch(b){case"0-20":return i>=0&&i<=20;case"21-40":return i>=21&&i<=40;case"41-60":return i>=41&&i<=60;case"61-80":return i>=61&&i<=80;case"81-100":return i>=81&&i<=100;default:return!0}})),a.sort((r,i)=>{let l,c;switch(O){case"nom":l=`${r.firstName} ${r.lastName}`,c=`${i.firstName} ${i.lastName}`;break;case"score":l=r.aiData.resume_global.score_global,c=i.aiData.resume_global.score_global;break;case"rang":l=r.aiData.resume_global.rang_global,c=i.aiData.resume_global.rang_global;break;case"verdict":l=E(r.aiData.resume_global.verdict),c=E(i.aiData.resume_global.verdict);break;case"departement":l=r.department,c=i.department;break;default:l=r.aiData.resume_global.rang_global,c=i.aiData.resume_global.rang_global}return typeof l=="string"&&typeof c=="string"?L==="asc"?l.localeCompare(c):c.localeCompare(l):typeof l=="number"&&typeof c=="number"?L==="asc"?l-c:c-l:0}),a},[K,j,N,v,b,O,L]),y=Math.ceil(p.length/_),I=(o-1)*_,q=I+_,ee=p.slice(I,q);d.useEffect(()=>{V(1)},[j,N,v,b]);const se=a=>{ke(a),Z(!0)},Te=a=>{V(a)},Fe=()=>{o>1&&V(o-1)},Pe=()=>{o<y&&V(o+1)};return t?e.jsx(H,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement des candidatures..."})]})})})}):Q?e.jsx(H,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(D,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:Q}),e.jsx(g,{onClick:()=>window.location.reload(),children:"Réessayer"})]})})}):e.jsx(H,{children:e.jsx(Re,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-8",children:[Y&&e.jsx("div",{className:"mb-4",children:e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>_e(decodeURIComponent(Y)),className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"Retour au protocole"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx(je,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Traitements IA"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Gestion intelligente des candidatures"})]})]})]}),e.jsx(m,{className:"mb-6",children:e.jsx(x,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ve,{placeholder:"Rechercher par nom, prénom, département, poste ou contenu IA...",value:j,onChange:a=>$(a.target.value),className:"pl-10 w-full"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 sm:max-w-[200px]",children:e.jsxs(k,{value:N,onValueChange:R,children:[e.jsx(S,{className:"w-full",children:e.jsx(T,{placeholder:"Département"})}),e.jsxs(F,{children:[e.jsx(n,{value:"all",children:"Tous les départements"}),f&&Object.keys(f).map(a=>{const r=a.charAt(0).toUpperCase()+a.slice(1);return e.jsxs(n,{value:r,children:["Département ",r]},a)})]})]})}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>Ae(!W),className:"flex items-center justify-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Filtres avancés"}),e.jsx("span",{className:"xs:hidden",children:"Filtres"})]})]})]}),W&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Verdict"}),e.jsxs(k,{value:v,onValueChange:U,children:[e.jsx(S,{children:e.jsx(T,{placeholder:"Tous les verdicts"})}),e.jsxs(F,{children:[e.jsx(n,{value:"all",children:"Tous les verdicts"}),e.jsx(n,{value:"Favorable",children:"Favorable"}),e.jsx(n,{value:"Mitigé",children:"Mitigé"}),e.jsx(n,{value:"Non retenu",children:"Non retenu"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Score global"}),e.jsxs(k,{value:b,onValueChange:z,children:[e.jsx(S,{children:e.jsx(T,{placeholder:"Toutes les plages"})}),e.jsxs(F,{children:[e.jsx(n,{value:"all",children:"Toutes les plages"}),e.jsx(n,{value:"0-20",children:"0% - 20%"}),e.jsx(n,{value:"21-40",children:"21% - 40%"}),e.jsx(n,{value:"41-60",children:"41% - 60%"}),e.jsx(n,{value:"61-80",children:"61% - 80%"}),e.jsx(n,{value:"81-100",children:"81% - 100%"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Trier par"}),e.jsxs(k,{value:O,onValueChange:ye,children:[e.jsx(S,{children:e.jsx(T,{placeholder:"Critère de tri"})}),e.jsxs(F,{children:[e.jsx(n,{value:"rang",children:"Rang"}),e.jsx(n,{value:"score",children:"Score global"}),e.jsx(n,{value:"nom",children:"Nom"}),e.jsx(n,{value:"verdict",children:"Verdict"}),e.jsx(n,{value:"departement",children:"Département"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Ordre"}),e.jsxs(k,{value:L,onValueChange:a=>Ce(a),children:[e.jsx(S,{children:e.jsx(T,{placeholder:"Ordre"})}),e.jsxs(F,{children:[e.jsx(n,{value:"asc",children:"Croissant"}),e.jsx(n,{value:"desc",children:"Décroissant"})]})]})]})]}),(N!=="all"||v!=="all"||b!=="all"||j)&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Filtres actifs:"}),j&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:['Recherche: "',j,'"',e.jsx("button",{onClick:()=>$(""),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),N!=="all"&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:["Département: ",N,e.jsx("button",{onClick:()=>R("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),v!=="all"&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:["Verdict: ",v,e.jsx("button",{onClick:()=>U("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),b!=="all"&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:["Score: ",b,"%",e.jsx("button",{onClick:()=>z("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>{$(""),R("all"),U("all"),z("all")},className:"text-xs",children:"Effacer tout"})]})]})})}),e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Évaluations IA des Candidats (",p.length,")",p.length>_&&e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["- Page ",o," sur ",y]})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs(ze,{children:[e.jsx(Oe,{children:e.jsxs(pe,{children:[e.jsx(C,{children:"Candidat"}),e.jsx(C,{children:"Poste"}),e.jsx(C,{children:"Département"}),e.jsx(C,{children:"Rang"}),e.jsx(C,{children:"Actions"})]})}),e.jsx(qe,{children:ee.map(a=>e.jsxs(pe,{children:[e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:[a.firstName[0],a.lastName[0]]}),e.jsx("div",{children:e.jsxs("p",{className:"font-medium",children:[a.firstName," ",a.lastName]})})]})}),e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:a.poste})]})}),e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(w,{variant:"outline",children:a.department})]})}),e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"font-medium",children:["#",a.aiData.resume_global.rang_global]})]})}),e.jsx(A,{children:e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>se(a),className:"gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),"Voir Résultats"]})})]},a.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:ee.map(a=>e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:[a.firstName[0],a.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[a.firstName," ",a.lastName]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",a.aiData.resume_global.rang_global]})]})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>se(a),className:"gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Voir"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:a.poste})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(w,{variant:"outline",children:a.department})]})]})]},a.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun candidat trouvé"}),e.jsx("p",{className:"text-muted-foreground",children:j?"Essayez de modifier vos critères de recherche.":"Aucune candidature disponible pour le moment."})]}),p.length>_&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground mb-4 sm:hidden text-center",children:[I+1,"-",Math.min(q,p.length)," sur ",p.length]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"hidden sm:block text-sm text-muted-foreground",children:["Affichage de ",I+1," à ",Math.min(q,p.length)," sur ",p.length," candidats"]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2",children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:Fe,disabled:o===1,className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Précédent"})]}),e.jsx("div",{className:"flex items-center gap-1 overflow-x-auto",children:Array.from({length:y},(a,r)=>r+1).map(a=>a===1||a===y||a>=o-1&&a<=o+1?e.jsx(g,{variant:o===a?"default":"outline",size:"sm",onClick:()=>Te(a),className:"w-8 h-8 p-0 min-w-[32px] flex-shrink-0",children:a},a):a===o-2||a===o+2?e.jsx("span",{className:"text-muted-foreground px-1 flex-shrink-0",children:"..."},a):null)}),e.jsxs(g,{variant:"outline",size:"sm",onClick:Pe,disabled:o===y,className:"flex items-center gap-1",children:[e.jsx("span",{className:"hidden xs:inline",children:"Suivant"}),e.jsx(We,{className:"h-4 w-4"})]})]})]})]})]})]}),e.jsx(Ie,{open:Se,onOpenChange:Z,children:e.jsxs(Be,{className:"max-w-[95vw] sm:max-w-4xl lg:max-w-6xl max-h-[90vh] overflow-y-auto mx-4 sm:mx-0",children:[e.jsx(Ee,{children:e.jsxs(Ue,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5 text-purple-500"}),"Évaluation IA - ",s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]})}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(h,{className:"text-lg",children:"Informations du candidat"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),e.jsxs("p",{className:"text-lg",children:[s.firstName," ",s.lastName]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Poste"}),e.jsx("p",{className:"text-lg",children:s.poste})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Département"}),e.jsx("p",{className:"text-lg",children:s.department})]})]})})]}),e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Score Global IA"]})}),e.jsxs(x,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:s.aiData.resume_global.score_global>0?s.aiData.resume_global.score_global>1?`${s.aiData.resume_global.score_global.toFixed(1)}%`:`${(s.aiData.resume_global.score_global*100).toFixed(1)}%`:"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score Global"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["#",s.aiData.resume_global.rang_global||"N/A"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rang"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${we(s.aiData.resume_global.verdict)==="success"?"bg-green-100 text-green-800":we(s.aiData.resume_global.verdict)==="secondary"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:E(s.aiData.resume_global.verdict)}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Verdict"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commentaire global :"}),e.jsx("p",{className:"text-sm bg-muted p-3 rounded-lg",children:s.aiData.resume_global.commentaire_global})]})]})]}),s.aiData.mtp?e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Évaluation MTP (Métier, Talent, Paradigme)"]})}),e.jsxs(x,{children:[e.jsxs("div",{className:`grid gap-4 mb-4 ${(((ae=s.aiData.mtp.scores)==null?void 0:ae.Moyen)||0)>0?"grid-cols-2 md:grid-cols-4":"grid-cols-1 md:grid-cols-3"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-500",children:(((te=s.aiData.mtp.scores)==null?void 0:te.Métier)||0)>0?(s.aiData.mtp.scores.Métier||0)>1?`${(s.aiData.mtp.scores.Métier||0).toFixed(1)}%`:`${((s.aiData.mtp.scores.Métier||0)*100).toFixed(1)}%`:"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Métier"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:(((re=s.aiData.mtp.scores)==null?void 0:re.Talent)||0)>0?(s.aiData.mtp.scores.Talent||0)>1?`${(s.aiData.mtp.scores.Talent||0).toFixed(1)}%`:`${((s.aiData.mtp.scores.Talent||0)*100).toFixed(1)}%`:"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Talent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-500",children:(((ie=s.aiData.mtp.scores)==null?void 0:ie.Paradigme)||0)>0?(s.aiData.mtp.scores.Paradigme||0)>1?`${(s.aiData.mtp.scores.Paradigme||0).toFixed(1)}%`:`${((s.aiData.mtp.scores.Paradigme||0)*100).toFixed(1)}%`:"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Paradigme"})]}),(((le=s.aiData.mtp.scores)==null?void 0:le.Moyen)||0)>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-500",children:(s.aiData.mtp.scores.Moyen||0)>1?`${(s.aiData.mtp.scores.Moyen||0).toFixed(1)}%`:`${((s.aiData.mtp.scores.Moyen||0)*100).toFixed(1)}%`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Moyen"})]})]}),s.aiData.mtp.score_moyen&&e.jsxs("div",{className:"text-center mb-4 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"text-3xl font-extrabold text-indigo-600 mb-1",children:(s.aiData.mtp.score_moyen||0)>1?`${(s.aiData.mtp.score_moyen||0).toFixed(1)}%`:`${((s.aiData.mtp.score_moyen||0)*100).toFixed(1)}%`}),e.jsx("p",{className:"text-sm font-medium text-indigo-700",children:"Score Moyen MTP"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Niveau :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:s.aiData.mtp.niveau||"Non spécifié"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Points forts :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(s.aiData.mtp.points_forts)&&s.aiData.mtp.points_forts.length>0?s.aiData.mtp.points_forts.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),a]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucun point fort identifié"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Points à travailler :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(s.aiData.mtp.points_a_travailler)&&s.aiData.mtp.points_a_travailler.length>0?s.aiData.mtp.points_a_travailler.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucun point à travailler identifié"})})]})]})]})]})]}):e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Évaluation MTP (Métier, Talent, Paradigme)"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucune évaluation MTP disponible pour ce candidat"})]})})]}),s.aiData.similarite_offre?e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"Similarité avec l'offre"]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:s.aiData.similarite_offre.score>1?`${s.aiData.similarite_offre.score.toFixed(1)}%`:`${(s.aiData.similarite_offre.score*100).toFixed(1)}%`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score de similarité"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Expérience :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:(ne=s.aiData.similarite_offre)!=null&&ne.resume_experience?typeof s.aiData.similarite_offre.resume_experience=="string"?s.aiData.similarite_offre.resume_experience:(ce=s.aiData.similarite_offre.resume_experience)!=null&&ce.nombre_d_annees&&((de=s.aiData.similarite_offre.resume_experience)!=null&&de.specialite)?`${s.aiData.similarite_offre.resume_experience.nombre_d_annees} ans - ${s.aiData.similarite_offre.resume_experience.specialite}`:"Informations non disponibles":"Aucune information d'expérience disponible"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commentaire :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:((oe=s.aiData.similarite_offre)==null?void 0:oe.commentaire_score)||"Aucun commentaire disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Forces :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(s.aiData.similarite_offre.forces)?s.aiData.similarite_offre.forces.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),a]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucune force identifiée"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Faiblesses :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(s.aiData.similarite_offre.faiblesses)?s.aiData.similarite_offre.faiblesses.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),a]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucune faiblesse identifiée"})})]})]})]})})]}):e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"Similarité avec l'offre"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucune évaluation de similarité disponible pour ce candidat"})]})})]}),s.aiData.feedback?e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Feedback RH"]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:s.aiData.feedback.score>0?s.aiData.feedback.score>1?`${s.aiData.feedback.score.toFixed(1)}%`:`${(s.aiData.feedback.score*100).toFixed(1)}%`:"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score Feedback"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Raisons :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:((me=s.aiData.feedback)==null?void 0:me.raisons)||"Aucune raison spécifiée"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Points forts :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray((xe=s.aiData.feedback)==null?void 0:xe.points_forts)&&s.aiData.feedback.points_forts.length>0?s.aiData.feedback.points_forts.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),a]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucun point fort spécifié"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Points à travailler :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray((ue=s.aiData.feedback)==null?void 0:ue.points_a_travailler)&&s.aiData.feedback.points_a_travailler.length>0?s.aiData.feedback.points_a_travailler.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucun point à travailler spécifié"})})]})]})]})})]}):e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Feedback RH"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucun feedback RH disponible pour ce candidat"})]})})]}),s.aiData.conformite?e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Conformité documentaire"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-500",children:[s.aiData.conformite.score_conformité,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score de conformité"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded mt-2",children:s.aiData.conformite.commentaire})]})})]}):e.jsxs(m,{children:[e.jsx(u,{children:e.jsxs(h,{className:"text-lg flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Conformité documentaire"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucune évaluation de conformité disponible pour ce candidat"})]})})]})]})]})})]})})})}export{Rs as default};
