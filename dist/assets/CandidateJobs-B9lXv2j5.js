import{i as N,k as y,r as g,s as b,u as w,j as e,B as r,b as f}from"./index-Dt07UTka.js";import{L as j}from"./Layout-mbh2DWpt.js";import{G as C,J as L}from"./job-card-nIfnLekR.js";import{I as _}from"./input-Bw9vQiwZ.js";import{u as k}from"./useJobOffers-BrDiClz1.js";import{i as E}from"./launchGate-DNqG8lWI.js";import{C as T}from"./spinner-DybE6_pM.js";import{L as z}from"./list-BNYgf13m.js";import{S}from"./search-CrW7gRAG.js";import{F as $}from"./filter-nUhWB70p.js";import{B as G}from"./building-SUKbbJV_.js";import"./badge-BL2mfjTD.js";import"./popover-YAsM8h-6.js";import"./Combination-aU0zapuW.js";import"./fr-CfdXjsD4.js";import"./en-US-Dy1UnLtf.js";import"./useQuery-BeOx6H6z.js";import"./useMutation-DLLhhcgk.js";import"./formatDistanceToNow-2oA28mCp.js";import"./endOfMonth-CkNiGKnp.js";import"./log-out-C2CngwNs.js";import"./applicationUtils-GIDm11E_.js";import"./map-pin-YC5vFqhh.js";import"./briefcase-DGZDCsL0.js";function A(){const c=N(),{toast:n}=y();g.useEffect(()=>{let l=null;const o=()=>{l&&clearTimeout(l),l=setTimeout(()=>{c.invalidateQueries({queryKey:["jobOffers"]})},1e3)},m=b.channel("job_offers_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"job_offers"},d=>{const t=d.new;(t==null?void 0:t.status)==="active"&&(o(),n({title:"Nouvelle offre publi√©e",description:`${t.title} ‚Ä¢ ${t.location} (${t.contract_type})`}))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"job_offers"},d=>{const t=d.old,i=d.new;(t==null?void 0:t.status)!=="active"&&(i==null?void 0:i.status)==="active"&&(o(),n({title:"Offre publi√©e",description:`${i.title} ‚Ä¢ ${i.location} (${i.contract_type})`}))}).subscribe();return()=>{l&&clearTimeout(l),b.removeChannel(m)}},[c,n])}function re(){A();const c=w(),[n,l]=g.useState(""),[o,m]=g.useState("cards"),{data:d,isLoading:t,error:i}=k(),u=d??[],a=E(),v=()=>f.info("Les candidatures seront disponibles √† partir du lundi 25 ao√ªt 2025."),p=s=>Array.isArray(s)?s.join(", "):s,x=u.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())||p(s.location).toLowerCase().includes(n.toLowerCase()));return i?e.jsx(j,{showFooter:!0,children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-500",children:["Erreur lors du chargement des offres: ",i.message]}),e.jsx(r,{variant:"outline",onClick:()=>{var s;typeof window<"u"&&((s=window.location)!=null&&s.reload)&&window.location.reload()},children:"R√©essayer"})]})})}):e.jsxs(j,{showFooter:!0,children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-white/5 rounded-full -translate-x-36 -translate-y-36"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white/5 rounded-full translate-x-48 translate-y-48"})]}),e.jsx("div",{className:"relative container mx-auto px-4 py-12 sm:py-20",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-sm rounded-full px-6 py-2 text-sm font-medium animate-fade-in",children:"Soci√©t√© d'√ânergie et d'Eau du Gabon"}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold animate-fade-in delay-100",children:["Nos ",u.length," poste",u.length>1?"s":""," √† pourvoir"]}),e.jsx("h2",{className:"text-lg sm:text-2xl md:text-3xl font-semibold opacity-90 animate-fade-in delay-150",children:"au sein du comit√© de direction"}),e.jsx("p",{className:"text-base sm:text-lg md:text-2xl opacity-90 max-w-3xl mx-auto animate-fade-in delay-200",children:"Rejoignez l'√©quipe dirigeante de la SEEG et participez au d√©veloppement √©nerg√©tique du Gabon"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 pt-6 animate-fade-in delay-300",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:e.jsx("span",{className:"text-sm",children:"üè¢ Secteur Public"})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:e.jsx("span",{className:"text-sm",children:"‚ö° √ânergie & Eau"})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:e.jsx("span",{className:"text-sm",children:"üá¨üá¶ Gabon"})})]}),e.jsx("div",{className:"pt-6 animate-fade-in delay-400",children:e.jsx(r,{variant:"secondary",size:"lg",className:"bg-white/20 text-white border-white/30 opacity-50 cursor-not-allowed pointer-events-none",disabled:!0,onClick:s=>{s.preventDefault(),s.stopPropagation(),a&&v()},title:a?"Candidatures indisponibles jusqu'au 25 ao√ªt 2025":"",children:"Candidatures closes"})})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",id:"job-list",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-sm border",children:[e.jsxs(r,{variant:o==="cards"?"default":"ghost",size:"sm",onClick:()=>m("cards"),className:"gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Vue Cartes"]}),e.jsxs(r,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>m("list"),className:"gap-2",children:[e.jsx(z,{className:"w-4 h-4"}),"Vue Liste"]})]})}),e.jsx("div",{className:"max-w-2xl mx-auto mb-8 animate-fade-in delay-200",children:e.jsxs("div",{className:"relative flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(S,{className:"absolute left-3 top-2.5 sm:top-3 w-4 h-4 text-muted-foreground"}),e.jsx(_,{placeholder:"Rechercher un poste ou une ville...",value:n,onChange:s=>l(s.target.value),className:"pl-10 h-11 sm:h-12"})]}),e.jsx(r,{variant:"outline",size:"icon",className:"h-11 w-11 sm:h-12 sm:w-12",children:e.jsx($,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-card rounded-lg border p-4 shadow-soft",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-semibold text-primary",children:x.length})," offres disponibles"]})})}),e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:t?e.jsx(T,{text:"Chargement des offres..."}):o==="cards"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:x.map((s,h)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${300+h*100}ms`},children:e.jsx(L,{title:s.title,location:p(s.location),contractType:s.contract_type,description:s.description,isPreview:!0,onClick:()=>c(`/jobs/${s.id}`),locked:a,onLockedClick:()=>f.info("Les appels √† candidature seront disponibles √† partir du lundi 25 ao√ªt 2025.")})},s.id))}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:[e.jsxs("div",{className:`grid ${a?"[grid-template-columns:1fr_auto]":"[grid-template-columns:2fr_minmax(160px,1fr)_minmax(180px,1fr)_auto]"} items-center gap-4 p-4 bg-gray-50 border-b font-semibold text-sm`,children:[e.jsx("div",{children:"Titre du poste"}),!a&&e.jsx("div",{children:"Lieu"}),!a&&e.jsx("div",{children:"Type de contrat"}),e.jsx("div",{className:"text-center",children:"Action"})]}),x.map((s,h)=>e.jsxs("div",{className:`grid ${a?"[grid-template-columns:1fr_auto]":"[grid-template-columns:2fr_minmax(160px,1fr)_minmax(180px,1fr)_auto]"} items-center gap-4 p-4 border-b hover:bg-gray-50 transition-colors animate-fade-in`,style:{animationDelay:`${300+h*50}ms`},children:[e.jsx("div",{className:"font-medium",children:s.title}),!a&&e.jsx("div",{className:"text-muted-foreground",children:p(s.location)}),!a&&e.jsx("div",{className:"text-muted-foreground",children:s.contract_type}),e.jsx("div",{className:"flex justify-center",children:e.jsx(r,{variant:"hero",size:"sm",onClick:()=>a?f.info("Les appels √† candidature seront disponibles √† partir du lundi 25 ao√ªt 2025."):c(`/jobs/${s.id}`),className:"w-full md:w-auto text-xs sm:text-sm h-8 md:h-9 cursor-pointer opacity-60 hover:opacity-100 transition-opacity",children:"Voir l'offre"})})]},s.id))]})}),e.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-xl p-6 sm:p-8 shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:"√Ä propos de l'entreprise : Contexte du recrutement"}),e.jsx("p",{className:"text-sm sm:text-base lg:text-lg opacity-90 mb-6",children:"D√©couvrez la vision et les ambitions derri√®re cette campagne de recrutement exceptionnelle pour la renaissance de la SEEG."}),e.jsx(r,{variant:"secondary",size:"lg",asChild:!0,children:e.jsx("a",{href:"/company-context",children:"En savoir plus ‚Üí"})})]})]})})}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground",children:"Aucune offre ne correspond √† votre recherche."}),e.jsx(r,{variant:"outline",className:"mt-4",onClick:()=>l(""),children:"Voir toutes les offres"})]}),e.jsx("div",{className:"text-center py-12 sm:py-16 mt-12 sm:mt-16",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground mb-4",children:"√âquipe RH SEEG ?"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Acc√©dez √† l'interface de gestion des candidatures et du processus de recrutement."}),e.jsx(r,{variant:"recruiter",size:"lg",asChild:!0,children:e.jsx("a",{href:"/auth",children:"Acc√©der √† l'espace RH"})})]})})]})]})}export{re as default};
