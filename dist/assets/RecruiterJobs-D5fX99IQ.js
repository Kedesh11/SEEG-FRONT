import{u as y,a as C,r as x,j as e,g as l,B as a,L as b,C as u,e as L}from"./index-Dt07UTka.js";import{R as z}from"./RecruiterLayout-CzqFpArC.js";import{B as h}from"./badge-BL2mfjTD.js";import{I as T}from"./input-Bw9vQiwZ.js";import{T as _,a as R,b as p,c as n,d as S,e as c}from"./table-CyBlcsHn.js";import{u as k}from"./useJobOffers-BrDiClz1.js";import{P as B}from"./plus-Cq7fvgYR.js";import{S as E}from"./search-CrW7gRAG.js";import{L as P}from"./layout-grid-0bM3oqzR.js";import{L as J}from"./list-BNYgf13m.js";import{E as M}from"./eye-BrJFRD8F.js";import{S as $}from"./square-pen-BJrgxhp9.js";import"./sidebar-DQHe9abK.js";import"./separator-CPOmk9ej.js";import"./index-CnKgKWfo.js";import"./Combination-aU0zapuW.js";import"./layout-dashboard-CftRPHET.js";import"./users-BSixSwM-.js";import"./brain-BM1gby9g.js";import"./briefcase-DGZDCsL0.js";import"./user-ix4zyo1H.js";import"./log-out-C2CngwNs.js";import"./useQuery-BeOx6H6z.js";function ce(){const f=y(),{user:V,isRecruiter:t}=C(),{data:g=[],isLoading:j,error:v}=k(),[d,N]=x.useState(""),[r,o]=x.useState("grid"),m=s=>{f(`/recruiter/jobs/${s}/edit`)},i=g.filter(s=>s.status==="active"||s.status==="draft").filter(s=>s.title.toLowerCase().includes(d.toLowerCase()));return e.jsx(z,{children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 sm:mb-8 gap-4",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground mb-2",children:"Postes à pourvoir"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Gérez toutes vos offres d'emploi et suivez les candidatures"})]}),t&&e.jsx(l,{to:"/recruiter/jobs/new",className:"w-full sm:w-auto",children:e.jsxs(a,{variant:"hero",size:"lg",className:"gap-2 w-full sm:w-auto text-sm",children:[e.jsx(B,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Créer une offre"]})})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[e.jsxs("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-foreground",children:["Toutes les offres (",i.length,")"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[e.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),e.jsx(T,{placeholder:"Rechercher une offre...",className:"pl-8 sm:pl-10 text-sm",value:d,onChange:s=>N(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:r==="grid"?"default":"outline",size:"icon",onClick:()=>o("grid"),children:e.jsx(P,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.jsx(a,{variant:r==="list"?"default":"outline",size:"icon",onClick:()=>o("list"),children:e.jsx(J,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]}),j?e.jsxs("div",{className:"flex items-center gap-2 py-12 justify-center",children:[e.jsx(b,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"Chargement des offres..."})]}):v?e.jsx("div",{className:"text-center text-red-600 py-8",children:"Une erreur est survenue lors du chargement des offres."}):r==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:i.map((s,w)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${w*100}ms`},children:e.jsx(u,{className:"hover:shadow-medium transition-all cursor-pointer group h-full",children:e.jsxs(L,{className:"p-4 sm:p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground group-hover:text-primary-dark transition-colors",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:s.location}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.contract_type})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(h,{variant:"secondary",className:"bg-success-light text-success-foreground",children:[s.candidate_count," ",s.candidate_count===1?"candidat":"candidats"]}),s.new_candidates>0&&e.jsxs(h,{variant:"default",className:"bg-warning text-warning-foreground animate-bounce-soft",children:[s.new_candidates," ",s.new_candidates===1?"nouveau":"nouveaux"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{to:`/recruiter/jobs/${s.id}/pipeline`,className:"flex-1",children:e.jsxs(a,{variant:"hero",size:"sm",className:"gap-2 w-full",children:[e.jsx(M,{className:"w-4 h-4"}),"Voir le Pipeline"]})}),t&&e.jsxs(a,{variant:"outline",size:"sm",className:"gap-2 px-3",onClick:()=>m(s.id),children:[e.jsx($,{className:"w-4 h-4"}),"Modifier"]})]})})]})})},s.id))}):e.jsx(u,{children:e.jsxs(_,{children:[e.jsx(R,{children:e.jsxs(p,{children:[e.jsx(n,{children:"Titre du poste"}),e.jsx(n,{children:"Candidatures"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(S,{children:i.map(s=>e.jsxs(p,{children:[e.jsxs(c,{children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.location," • ",s.contract_type]})]}),e.jsx(c,{children:s.candidate_count}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(l,{to:`/recruiter/jobs/${s.id}/pipeline`,children:e.jsx(a,{variant:"outline",size:"sm",children:"Voir"})}),t&&e.jsx(a,{variant:"outline",size:"sm",onClick:()=>m(s.id),children:"Modifier"})]})})]},s.id))})]})})]})]})})}export{ce as default};
