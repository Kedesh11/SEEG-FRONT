import{n as we,u as _e,r as d,j as e,B as h,a7 as De,A as Ce,C as g,e as N,c as v,d as b}from"./index-Dt07UTka.js";import{O as q}from"./ObserverLayout-CvoqjA9a.js";import{I as ye}from"./input-Bw9vQiwZ.js";import{B as w}from"./badge-BL2mfjTD.js";import{D as Se,b as Ae,c as ke,d as Te}from"./dialog-DETbZ713.js";import{T as Pe,a as Fe,b as re,c as C,d as Le,e as y}from"./table-CyBlcsHn.js";import{S,a as A,b as k,c as T,d as n}from"./select-B2MghH9c.js";import{u as Me}from"./useAIData-Bczh7_dk.js";import{C as le}from"./circle-alert-BJk9C7zG.js";import{B as ie}from"./brain-BM1gby9g.js";import{S as Ve}from"./search-CrW7gRAG.js";import{F as Ie}from"./filter-nUhWB70p.js";import{C as P}from"./circle-x-Duq0gYSF.js";import{U as Re}from"./users-BSixSwM-.js";import{B as ne}from"./briefcase-DGZDCsL0.js";import{M as ce}from"./map-pin-YC5vFqhh.js";import{A as Be}from"./award-BYw8fzxC.js";import{E as de}from"./eye-BrJFRD8F.js";import{F as me}from"./file-text-XdKEpMSd.js";import{C as Ee}from"./chevron-left-q0C6Vo0_.js";import{C as $e}from"./chevron-right-BfnH_zY5.js";import{C as Oe}from"./chart-column-Cqu8Sd2N.js";import{T as Ue}from"./target-ATEbl8ER.js";import{C as oe}from"./circle-check-big-DK0TIh3k.js";import{T as ze}from"./trending-up-B44pE4Wv.js";import"./user-ix4zyo1H.js";import"./log-out-C2CngwNs.js";import"./index-CnKgKWfo.js";import"./Combination-aU0zapuW.js";import"./index-Cr6IkeUt.js";import"./index-BdQq_4o_.js";import"./index-lOYlu7e4.js";import"./index-CUAMUldx.js";const E=o=>{const a=o.toLowerCase();return a==="retenu"||a==="favorable"?"Favorable":a==="mitigé"?"Mitigé":a==="défavorable"||a==="non retenu"||a==="rejeté"||a.includes("non retenu")||a.includes("ne remplit aucune")||a.includes("recommandé de ne pas retenir")||a.includes("n'est pas retenu")||a.includes("il n'est pas retenu")||a.includes("non retenu pour le poste")||a.includes("ne répond à aucun")||a.includes("n'est actuellement pas adapté")||a.includes("alignement quasi inexistant")||a.includes("rejeté")||a.includes("rejet")||a.includes("dossier ne contient aucune information")||a.includes("impossible de rendre un verdict définitif")?"Non retenu":a.includes("mitigé")||a.includes("inadéquation partielle")||a.includes("nécessite des améliorations")||a.includes("dossier de candidature a besoin d'améliorations")||a.includes("améliorations ciblées")||a.includes("candidat crédible")||a.includes("expérience substantielle")||a.includes("expérience significative")?"Mitigé":a.includes("favorable")||a.includes("candidat optimal")||a.includes("qualifié pour le poste")||a.includes("candidat qualifié")?"Favorable":o},xe=o=>{const a=o.toLowerCase();return a==="retenu"||a==="favorable"?"success":a==="mitigé"?"secondary":a==="défavorable"||a==="non retenu"||a==="rejeté"||a.includes("non retenu")||a.includes("ne remplit aucune")||a.includes("recommandé de ne pas retenir")||a.includes("n'est pas retenu")||a.includes("il n'est pas retenu")||a.includes("non retenu pour le poste")||a.includes("ne répond à aucun")||a.includes("n'est actuellement pas adapté")||a.includes("alignement quasi inexistant")||a.includes("rejeté")||a.includes("rejet")||a.includes("dossier ne contient aucune information")||a.includes("impossible de rendre un verdict définitif")?"destructive":a.includes("mitigé")||a.includes("inadéquation partielle")||a.includes("nécessite des améliorations")||a.includes("dossier de candidature a besoin d'améliorations")||a.includes("améliorations ciblées")||a.includes("candidat crédible")||a.includes("expérience substantielle")||a.includes("expérience significative")?"secondary":a.includes("favorable")||a.includes("candidat optimal")||a.includes("qualifié pour le poste")||a.includes("candidat qualifié")?"success":"default"};function Ds(){var Z,K,ee,se;const{data:o,isLoading:a,error:H}=Me(),[F,qe]=we(),ue=_e(),[u,L]=d.useState(""),[f,M]=d.useState("all"),[p,$]=d.useState("all"),[j,O]=d.useState("all"),[U,he]=d.useState("rang"),[V,fe]=d.useState("asc"),[G,pe]=d.useState(!1),[m,I]=d.useState(1),[_]=d.useState(5),X=F.get("returnUrl");d.useEffect(()=>{const s=F.get("department"),r=F.get("candidate");s&&M(decodeURIComponent(s)),r&&L(decodeURIComponent(r))},[F]);const[t,je]=d.useState(null),[ge,J]=d.useState(!1),Q=d.useMemo(()=>{if(!o)return[];const s=[];return Object.entries(o).forEach(([r,l])=>{l.forEach((i,c)=>{const B=r.charAt(0).toUpperCase()+r.slice(1);s.push({id:`${r}-${c}`,firstName:i.prenom,lastName:i.nom,poste:i.poste,department:B,aiData:i})})}),s},[o]),x=d.useMemo(()=>{let s=Q;if(u){const r=u.toLowerCase();s=s.filter(l=>{var B,ae,te;const i=l.firstName.toLowerCase().includes(r)||l.lastName.toLowerCase().includes(r)||l.department.toLowerCase().includes(r)||l.poste.toLowerCase().includes(r),c=l.aiData.resume_global.commentaire_global.toLowerCase().includes(r)||((B=l.aiData.mtp)==null?void 0:B.niveau)&&l.aiData.mtp.niveau.toLowerCase().includes(r)||((ae=l.aiData.similarite_offre)==null?void 0:ae.commentaire_score)&&l.aiData.similarite_offre.commentaire_score.toLowerCase().includes(r)||((te=l.aiData.conformite)==null?void 0:te.commentaire)&&l.aiData.conformite.commentaire.toLowerCase().includes(r);return i||c})}return f!=="all"&&(s=s.filter(r=>r.department===f)),p!=="all"&&(s=s.filter(r=>E(r.aiData.resume_global.verdict)===p)),j!=="all"&&(s=s.filter(r=>{const l=r.aiData.resume_global.score_global*100;switch(j){case"0-20":return l>=0&&l<=20;case"21-40":return l>=21&&l<=40;case"41-60":return l>=41&&l<=60;case"61-80":return l>=61&&l<=80;case"81-100":return l>=81&&l<=100;default:return!0}})),s.sort((r,l)=>{let i,c;switch(U){case"nom":i=`${r.firstName} ${r.lastName}`,c=`${l.firstName} ${l.lastName}`;break;case"score":i=r.aiData.resume_global.score_global,c=l.aiData.resume_global.score_global;break;case"rang":i=r.aiData.resume_global.rang_global,c=l.aiData.resume_global.rang_global;break;case"verdict":i=E(r.aiData.resume_global.verdict),c=E(l.aiData.resume_global.verdict);break;case"departement":i=r.department,c=l.department;break;default:i=r.aiData.resume_global.rang_global,c=l.aiData.resume_global.rang_global}return typeof i=="string"&&typeof c=="string"?V==="asc"?i.localeCompare(c):c.localeCompare(i):typeof i=="number"&&typeof c=="number"?V==="asc"?i-c:c-i:0}),s},[Q,u,f,p,j,U,V]),D=Math.ceil(x.length/_),R=(m-1)*_,z=R+_,W=x.slice(R,z);d.useEffect(()=>{I(1)},[u,f,p,j]);const Y=s=>{je(s),J(!0)},Ne=s=>{I(s)},ve=()=>{m>1&&I(m-1)},be=()=>{m<D&&I(m+1)};return a?e.jsx(q,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement des candidatures..."})]})})})}):H?e.jsx(q,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:H}),e.jsx(h,{onClick:()=>window.location.reload(),children:"Réessayer"})]})})}):e.jsx(q,{children:e.jsx(De,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-8",children:[X&&e.jsx("div",{className:"mb-4",children:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>ue(decodeURIComponent(X)),className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Retour au protocole"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx(ie,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Traitements IA"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Gestion intelligente des candidatures"})]})]})]}),e.jsx(g,{className:"mb-6",children:e.jsx(N,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ye,{placeholder:"Rechercher par nom, prénom, département, poste ou contenu IA...",value:u,onChange:s=>L(s.target.value),className:"pl-10 w-full"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 sm:max-w-[200px]",children:e.jsxs(S,{value:f,onValueChange:M,children:[e.jsx(A,{className:"w-full",children:e.jsx(k,{placeholder:"Département"})}),e.jsxs(T,{children:[e.jsx(n,{value:"all",children:"Tous les départements"}),o&&Object.keys(o).map(s=>{const r=s.charAt(0).toUpperCase()+s.slice(1);return e.jsxs(n,{value:r,children:["Département ",r]},s)})]})]})}),e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>pe(!G),className:"flex items-center justify-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Filtres avancés"}),e.jsx("span",{className:"xs:hidden",children:"Filtres"})]})]})]}),G&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Verdict"}),e.jsxs(S,{value:p,onValueChange:$,children:[e.jsx(A,{children:e.jsx(k,{placeholder:"Tous les verdicts"})}),e.jsxs(T,{children:[e.jsx(n,{value:"all",children:"Tous les verdicts"}),e.jsx(n,{value:"Favorable",children:"Favorable"}),e.jsx(n,{value:"Mitigé",children:"Mitigé"}),e.jsx(n,{value:"Non retenu",children:"Non retenu"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Score global"}),e.jsxs(S,{value:j,onValueChange:O,children:[e.jsx(A,{children:e.jsx(k,{placeholder:"Toutes les plages"})}),e.jsxs(T,{children:[e.jsx(n,{value:"all",children:"Toutes les plages"}),e.jsx(n,{value:"0-20",children:"0% - 20%"}),e.jsx(n,{value:"21-40",children:"21% - 40%"}),e.jsx(n,{value:"41-60",children:"41% - 60%"}),e.jsx(n,{value:"61-80",children:"61% - 80%"}),e.jsx(n,{value:"81-100",children:"81% - 100%"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Trier par"}),e.jsxs(S,{value:U,onValueChange:he,children:[e.jsx(A,{children:e.jsx(k,{placeholder:"Critère de tri"})}),e.jsxs(T,{children:[e.jsx(n,{value:"rang",children:"Rang"}),e.jsx(n,{value:"score",children:"Score global"}),e.jsx(n,{value:"nom",children:"Nom"}),e.jsx(n,{value:"verdict",children:"Verdict"}),e.jsx(n,{value:"departement",children:"Département"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Ordre"}),e.jsxs(S,{value:V,onValueChange:s=>fe(s),children:[e.jsx(A,{children:e.jsx(k,{placeholder:"Ordre"})}),e.jsxs(T,{children:[e.jsx(n,{value:"asc",children:"Croissant"}),e.jsx(n,{value:"desc",children:"Décroissant"})]})]})]})]}),(f!=="all"||p!=="all"||j!=="all"||u)&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Filtres actifs:"}),u&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:['Recherche: "',u,'"',e.jsx("button",{onClick:()=>L(""),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),f!=="all"&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:["Département: ",f,e.jsx("button",{onClick:()=>M("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),p!=="all"&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:["Verdict: ",p,e.jsx("button",{onClick:()=>$("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),j!=="all"&&e.jsxs(w,{variant:"secondary",className:"gap-1",children:["Score: ",j,"%",e.jsx("button",{onClick:()=>O("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:e.jsx(P,{className:"h-3 w-3"})})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>{L(""),M("all"),$("all"),O("all")},className:"text-xs",children:"Effacer tout"})]})]})})}),e.jsxs(g,{children:[e.jsx(v,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-5 w-5"}),"Évaluations IA des Candidats (",x.length,")",x.length>_&&e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["- Page ",m," sur ",D]})]})}),e.jsxs(N,{className:"p-0 sm:p-6",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs(Pe,{children:[e.jsx(Fe,{children:e.jsxs(re,{children:[e.jsx(C,{children:"Candidat"}),e.jsx(C,{children:"Poste"}),e.jsx(C,{children:"Département"}),e.jsx(C,{children:"Rang"}),e.jsx(C,{children:"Actions"})]})}),e.jsx(Le,{children:W.map(s=>e.jsxs(re,{children:[e.jsx(y,{className:"min-w-[200px]",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xs sm:text-sm flex-shrink-0",children:[s.firstName[0],s.lastName[0]]}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsxs("p",{className:"font-medium text-sm sm:text-base truncate",children:[s.firstName," ",s.lastName]})})]})}),e.jsx(y,{className:"hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.poste})]})}),e.jsx(y,{className:"min-w-[120px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(w,{variant:"outline",className:"text-xs",children:s.department})]})}),e.jsx(y,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"font-medium text-sm sm:text-base",children:["#",s.aiData.resume_global.rang_global]})]})}),e.jsx(y,{className:"min-w-[120px]",children:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>Y(s),className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm w-full sm:w-auto",children:[e.jsx(de,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Voir Résultats"}),e.jsx("span",{className:"sm:hidden",children:"Voir"})]})})]},s.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4 p-4",children:W.map(s=>e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:[s.firstName[0],s.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.firstName," ",s.lastName]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",s.aiData.resume_global.rang_global]})]})]}),e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>Y(s),className:"gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Voir"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.poste})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(w,{variant:"outline",children:s.department})]})]})]},s.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun candidat trouvé"}),e.jsx("p",{className:"text-muted-foreground",children:u?"Essayez de modifier vos critères de recherche.":"Aucune candidature disponible pour le moment."})]}),x.length>_&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground mb-4 sm:hidden text-center",children:[R+1,"-",Math.min(z,x.length)," sur ",x.length]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"hidden sm:block text-sm text-muted-foreground",children:["Affichage de ",R+1," à ",Math.min(z,x.length)," sur ",x.length," candidats"]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:ve,disabled:m===1,className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Précédent"})]}),e.jsx("div",{className:"flex items-center gap-1 overflow-x-auto",children:Array.from({length:D},(s,r)=>r+1).map(s=>s===1||s===D||s>=m-1&&s<=m+1?e.jsx(h,{variant:m===s?"default":"outline",size:"sm",onClick:()=>Ne(s),className:"w-8 h-8 p-0 min-w-[32px] flex-shrink-0",children:s},s):s===m-2||s===m+2?e.jsx("span",{className:"text-muted-foreground px-1 flex-shrink-0",children:"..."},s):null)}),e.jsxs(h,{variant:"outline",size:"sm",onClick:be,disabled:m===D,className:"flex items-center gap-1",children:[e.jsx("span",{className:"hidden xs:inline",children:"Suivant"}),e.jsx($e,{className:"h-4 w-4"})]})]})]})]})]})]}),e.jsx(Se,{open:ge,onOpenChange:J,children:e.jsxs(Ae,{className:"max-w-[95vw] sm:max-w-4xl lg:max-w-6xl max-h-[90vh] overflow-y-auto mx-4 sm:mx-0",children:[e.jsx(ke,{children:e.jsxs(Te,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ie,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-500"}),e.jsxs("span",{className:"truncate",children:["Évaluation IA - ",t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})]})}),t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g,{children:[e.jsx(v,{children:e.jsx(b,{className:"text-base sm:text-lg",children:"Informations du candidat"})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),e.jsxs("p",{className:"text-lg",children:[t.firstName," ",t.lastName]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Poste"}),e.jsx("p",{className:"text-lg",children:t.poste})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Département"}),e.jsx("p",{className:"text-lg",children:t.department})]})]})})]}),e.jsxs(g,{children:[e.jsx(v,{children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5"}),"Score Global IA"]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:t.aiData.resume_global.score_global>=0?`${(t.aiData.resume_global.score_global*100).toFixed(1)}%`:"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score Global"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["#",t.aiData.resume_global.rang_global||"N/A"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rang"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${xe(t.aiData.resume_global.verdict)==="success"?"bg-green-100 text-green-800":xe(t.aiData.resume_global.verdict)==="secondary"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:E(t.aiData.resume_global.verdict)}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Verdict"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commentaire global :"}),e.jsx("p",{className:"text-sm bg-muted p-3 rounded-lg",children:t.aiData.resume_global.commentaire_global})]})]})]}),t.aiData.mtp&&e.jsxs(g,{children:[e.jsx(v,{children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5"}),"Évaluation MTP (Métier, Talent, Paradigme)"]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[(t.aiData.mtp.scores.Métier*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Métier"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[(t.aiData.mtp.scores.Talent*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Talent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-500",children:[(t.aiData.mtp.scores.Paradigme*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Paradigme"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[(t.aiData.mtp.scores.Moyen*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Moyen"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Niveau :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:t.aiData.mtp.niveau})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Points forts :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(t.aiData.mtp.points_forts)?t.aiData.mtp.points_forts.map((s,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),s]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucun point fort identifié"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Points à travailler :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(t.aiData.mtp.points_a_travailler)?t.aiData.mtp.points_a_travailler.map((s,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),s]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucun point à travailler identifié"})})]})]})]})]})]}),t.aiData.similarite_offre&&e.jsxs(g,{children:[e.jsx(v,{children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5"}),"Similarité avec l'offre"]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:t.aiData.similarite_offre.score>1?`${t.aiData.similarite_offre.score*10}%`:`${(t.aiData.similarite_offre.score*100).toFixed(1)}%`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score de similarité"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Expérience :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:(Z=t.aiData.similarite_offre)!=null&&Z.resume_experience?typeof t.aiData.similarite_offre.resume_experience=="string"?t.aiData.similarite_offre.resume_experience:(K=t.aiData.similarite_offre.resume_experience)!=null&&K.nombre_d_annees&&((ee=t.aiData.similarite_offre.resume_experience)!=null&&ee.specialite)?`${t.aiData.similarite_offre.resume_experience.nombre_d_annees} ans - ${t.aiData.similarite_offre.resume_experience.specialite}`:"Informations non disponibles":"Aucune information d'expérience disponible"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commentaire :"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:((se=t.aiData.similarite_offre)==null?void 0:se.commentaire_score)||"Aucun commentaire disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Forces :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(t.aiData.similarite_offre.forces)?t.aiData.similarite_offre.forces.map((s,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),s]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucune force identifiée"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Faiblesses :"}),e.jsx("ul",{className:"text-sm space-y-1",children:Array.isArray(t.aiData.similarite_offre.faiblesses)?t.aiData.similarite_offre.faiblesses.map((s,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),s]},r)):e.jsx("li",{className:"text-muted-foreground",children:"Aucune faiblesse identifiée"})})]})]})]})})]}),t.aiData.conformite&&e.jsxs(g,{children:[e.jsx(v,{children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Conformité documentaire"]})}),e.jsx(N,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-500",children:[t.aiData.conformite.score_conformité,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Score de conformité"}),e.jsx("p",{className:"text-sm bg-muted p-2 rounded mt-2",children:t.aiData.conformite.commentaire})]})})]})]})]})})]})})})}export{Ds as default};
